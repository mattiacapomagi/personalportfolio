import{g as xe,s as re}from"../chunks/DGsw6NxF.js";import{H as Pe}from"../chunks/BUApaBEI.js";import{h as je,f as p,b as m,e as Ce,g as me,s as f}from"../chunks/DmFpseu1.js";import{a1 as _e,a3 as ne,a2 as S,a as ce,s as x,g as l,a4 as fe,a5 as v,a6 as r,a7 as s,Y as T,ak as Me,am as Fe,a8 as Ie}from"../chunks/CRKzMF49.js";import{i as A}from"../chunks/BX282ltw.js";import{h as Ae}from"../chunks/C3QMSdLY.js";import{a as ue,r as de,s as j,b as ge,l as P}from"../chunks/BdyCbQje.js";import{o as Te}from"../chunks/DyZ0c3b2.js";import{e as ze,i as Le}from"../chunks/Bdi0pSfj.js";import{b as Ve}from"../chunks/7S4bbPDL.js";import{b as R}from"../chunks/_Ntib5Hr.js";function Oe(y,i){throw new Pe(y,i)}function Be({params:y}){const i=xe(y.slug);if(!i)throw Oe(404,"Project not found");return{project:i}}const it=Object.freeze(Object.defineProperty({__proto__:null,load:Be},Symbol.toStringTag,{value:"Module"}));var Ee=p('<button class="nav-btn prev svelte-1kl9tqn" aria-label="Previous image">←</button>'),He=me('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"></path></svg>'),Se=me('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"></path></svg>'),Re=p('<div class="video-container svelte-1kl9tqn"><video class="blur-bg-video svelte-1kl9tqn" autoplay loop playsinline=""></video>  <video class="main-video svelte-1kl9tqn" loop playsinline=""></video> <div><div class="control-row svelte-1kl9tqn"><button class="icon-btn play-btn svelte-1kl9tqn"><!></button> <input type="range" min="0" max="100" class="seek-bar svelte-1kl9tqn"/> <div class="volume-container svelte-1kl9tqn"><span class="vol-label svelte-1kl9tqn">VOL</span> <input type="range" min="0" max="1" step="0.1" class="volume-bar svelte-1kl9tqn"/></div> <button class="icon-btn fs-btn svelte-1kl9tqn" aria-label="Fullscreen"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"></path></svg></button></div></div></div>',2),Ge=p('<div class="image-wrapper svelte-1kl9tqn"><div class="blur-bg svelte-1kl9tqn"></div>  <img class="clickable-image svelte-1kl9tqn"/></div>'),We=p("<div><!></div>"),Ye=p('<button class="nav-btn next svelte-1kl9tqn" aria-label="Next image">→</button>'),Ne=p('<div class="lightbox svelte-1kl9tqn"><button class="close-btn svelte-1kl9tqn" aria-label="Close">×</button> <img alt="Fullscreen preview" class="svelte-1kl9tqn"/></div>'),Ue=p('<div class="carousel svelte-1kl9tqn"><!> <div class="carousel-track svelte-1kl9tqn"></div> <!> <!></div>');function Xe(y,i){_e(i,!0);let o=S(0),c=ne([]),d=S(ne([])),k=S(ne([])),G=Me(()=>i.images.length>0?(l(o)%i.images.length+i.images.length)%i.images.length:0);ce(()=>{x(d,new Array(i.images.length).fill(!1),!0),x(k,new Array(i.images.length).fill(0),!0)});function W(a){return a.toLowerCase().endsWith(".mp4")||a.toLowerCase().endsWith(".mov")}function z(){x(o,l(o)+1),N()}function L(){x(o,l(o)-1),N()}function Q(a){if(i.images.length===0)return 0;const e=i.images.length;let t=(a-l(o))%e;return t<-e/2?t+=e:t>e/2&&(t-=e),t*100}function Y(a){const e=i.images.length,t=(l(o)%e+e)%e;return a===t?5:1}function N(){c.forEach((a,e)=>{a&&(a.pause(),l(d)[e]=!1)})}function C(a){const e=c[a];e&&(e.paused?(e.muted&&(e.muted=!1,e.volume=.4),e.play().catch(t=>console.error("Play failed:",t)),l(d)[a]=!0):(e.pause(),l(d)[a]=!1))}function V(a,e){const t=c[e];t&&(t.muted=!1,t.volume=a.currentTarget.value)}function $(a,e){const t=a.target;t.duration&&(l(k)[e]=t.currentTime/t.duration*100)}let h=S(null),w=S(!1);ce(()=>(l(h)?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""})),Te(()=>{const a=()=>{x(w,window.matchMedia("(max-width: 768px)").matches,!0)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)});function U(a){x(h,a,!0)}function O(){x(h,null)}function ee(a){const e=c[a];e&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())}var M=Ue(),X=r(M);{var Z=a=>{var e=Ee();e.__click=L,m(a,e)};A(X,a=>{i.images.length>1&&a(Z)})}var q=v(X,2);ze(q,21,()=>i.images,Le,(a,e,t)=>{var u=We();let D;var pe=r(u);{var he=b=>{var _=Re(),I=r(_);I.muted=!0;var g=v(I,2);g.muted=!0,g.__click=()=>!l(w)&&C(t),Ve(g,(n,H)=>c[H]=n,n=>c==null?void 0:c[n],()=>[t]);var J=v(g,2);let ie,oe;var ve=r(J),B=r(ve);B.__click=n=>{n.stopPropagation(),C(t)};var ye=r(B);{var ke=n=>{var H=He();m(n,H)},we=n=>{var H=Se();m(n,H)};A(ye,n=>{l(d)[t]?n(ke):n(we,!1)})}s(B);var E=v(B,2);de(E),E.__input=n=>handleSeek(n,t),E.__click=n=>n.stopPropagation();var K=v(E,2);K.__click=n=>n.stopPropagation();var se=v(r(K),2);de(se),se.__input=n=>V(n,t),s(K);var qe=v(K,2);qe.__click=n=>{n.stopPropagation(),ee(t)},s(ve),s(J),s(_),T(()=>{j(I,"src",`${R??""}${l(e)??""}`),j(g,"src",`${R??""}${l(e)??""}`),g.controls=l(w),ie=ue(J,1,"video-controls svelte-1kl9tqn",null,ie,{visible:!l(w)&&(!l(d)[t]||t===l(G))}),oe=re(J,"",oe,{display:l(w)?"none":"flex"}),j(B,"aria-label",l(d)[t]?"Pause":"Play"),ge(E,l(k)[t]||0),ge(se,c[t]?c[t].volume:.4)}),Ce("timeupdate",g,n=>$(n,t)),m(b,_)},be=b=>{var _=Ge(),I=r(_),g=v(I,2);j(g,"alt",`Project slide ${t+1}`),g.__click=()=>U(l(e)),s(_),T(()=>{re(I,`background-image: url('${R??""}${l(e)??""}')`),j(g,"src",`${R??""}${l(e)??""}`)}),m(b,_)};A(pe,b=>{W(l(e))?b(he):b(be,!1)})}s(u),T((b,_)=>{D=ue(u,1,"slide svelte-1kl9tqn",null,D,{active:t===l(G)}),re(u,`transform: translateX(${b??""}%); z-index: ${_??""}`)},[()=>Q(t),()=>Y(t)]),m(a,u)}),s(q);var F=v(q,2);{var te=a=>{var e=Ye();e.__click=z,m(a,e)};A(F,a=>{i.images.length>1&&a(te)})}var ae=v(F,2);{var le=a=>{var e=Ne();e.__click=O;var t=v(r(e),2);t.__click=u=>u.stopPropagation(),s(e),T(()=>j(t,"src",`${R??""}${l(h)??""}`)),m(a,e)};A(ae,a=>{l(h)&&a(le)})}s(M),m(y,M),fe()}je(["click","input"]);var Ze=p('<a target="_blank" rel="noopener noreferrer" class="gumroad-button svelte-gygcht"> </a>'),De=p('<article class="project-detail svelte-gygcht"><header class="project-header svelte-gygcht"><h1 class="project-title svelte-gygcht"> </h1> <div class="project-meta svelte-gygcht"><div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div> <div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div> <div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div></div></header> <div class="project-content svelte-gygcht"><div class="description-container svelte-gygcht"><p class="project-description svelte-gygcht"> </p> <!></div> <div class="project-gallery svelte-gygcht"><!></div></div></article>');function ot(y,i){_e(i,!0);const{project:o}=i.data;var c=De();Ae("gygcht",t=>{Fe(()=>{Ie.title=`${o.title??""} — MATTIA CAPOMAGI`})});var d=r(c),k=r(d),G=r(k,!0);s(k);var W=v(k,2),z=r(W),L=r(z),Q=r(L,!0);s(L);var Y=v(L,2),N=r(Y,!0);s(Y),s(z);var C=v(z,2),V=r(C),$=r(V,!0);s(V);var h=v(V,2),w=r(h,!0);s(h),s(C);var U=v(C,2),O=r(U),ee=r(O,!0);s(O);var M=v(O,2),X=r(M,!0);s(M),s(U),s(W),s(d);var Z=v(d,2),q=r(Z),F=r(q),te=r(F,!0);s(F);var ae=v(F,2);{var le=t=>{var u=Ze(),D=r(u,!0);s(u),T(()=>{j(u,"href",o.gumroadLink),f(D,P.current==="en"?"Get Typeface":"Ottieni Typeface")}),m(t,u)};A(ae,t=>{o.gumroadLink&&t(le)})}s(q);var a=v(q,2),e=r(a);Xe(e,{get images(){return o.images}}),s(a),s(Z),s(c),T(()=>{f(G,P.current==="en"?o.title:o.title_it||o.title),f(Q,P.current==="en"?"Client":"Cliente"),f(N,o.client),f($,P.current==="en"?"Category":"Categoria"),f(w,P.current==="en"?o.category:o.category_it),f(ee,P.current==="en"?"Year":"Anno"),f(X,o.year),f(te,P.current==="en"?o.description_en:o.description_it)}),m(y,c),fe()}export{ot as component,it as universal};
