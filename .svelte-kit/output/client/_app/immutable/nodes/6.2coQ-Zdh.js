import{g as ke,s as oe}from"../chunks/Bf95oUR3.js";import{e as qe}from"../chunks/CBbuBPfZ.js";import{f as y,a as g,e as pe}from"../chunks/C6Fzc3LW.js";import{ad as we,af as ie,ae as W,a as de,X as q,k as s,ag as xe,a0 as o,a1 as r,a3 as l,$ as z,as as Pe,ah as je,a2 as Ce}from"../chunks/1rNHRGA1.js";import{d as Me,e as Fe,s as b}from"../chunks/CLSB9qzS.js";import{i as T}from"../chunks/BBzeuCLq.js";import{h as Ie}from"../chunks/BZvtHB24.js";import{r as ge,s as w,a as me}from"../chunks/BLDoYpx2.js";import{s as Ae,a as Te}from"../chunks/BdtJ2nZv.js";import{o as ze}from"../chunks/CS-BcSQ8.js";import{e as Le,i as Ve}from"../chunks/DRdCW7JF.js";import{s as _e}from"../chunks/Bb2yCXYy.js";import{b as Oe}from"../chunks/IAQjsUJz.js";import{b as X}from"../chunks/BOVYNr9C.js";import{l as Be}from"../chunks/DuOiE-uO.js";function Se({params:L}){const i=ke(L.slug);if(!i)throw qe(404,"Project not found");return{project:i}}const dt=Object.freeze(Object.defineProperty({__proto__:null,load:Se},Symbol.toStringTag,{value:"Module"}));var Ee=y('<button class="nav-btn prev svelte-1kl9tqn" aria-label="Previous image">←</button>'),Re=pe('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"></path></svg>'),Ge=pe('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"></path></svg>'),He=y('<div class="video-container svelte-1kl9tqn"><video class="blur-bg-video svelte-1kl9tqn" autoplay loop playsinline=""></video>  <video class="main-video svelte-1kl9tqn" loop playsinline=""></video> <div><div class="control-row svelte-1kl9tqn"><button class="icon-btn play-btn svelte-1kl9tqn"><!></button> <input type="range" min="0" max="100" class="seek-bar svelte-1kl9tqn"/> <div class="volume-container svelte-1kl9tqn"><span class="vol-label svelte-1kl9tqn">VOL</span> <input type="range" min="0" max="1" step="0.1" class="volume-bar svelte-1kl9tqn"/></div> <button class="icon-btn fs-btn svelte-1kl9tqn" aria-label="Fullscreen"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"></path></svg></button></div></div></div>',2),We=y('<div class="image-wrapper svelte-1kl9tqn"><div class="blur-bg svelte-1kl9tqn"></div>  <img class="clickable-image svelte-1kl9tqn"/></div>'),Xe=y("<div><!></div>"),Ne=y('<button class="nav-btn next svelte-1kl9tqn" aria-label="Next image">→</button>'),Ue=y('<div class="lightbox svelte-1kl9tqn"><button class="close-btn svelte-1kl9tqn" aria-label="Close">×</button> <img alt="Fullscreen preview" class="svelte-1kl9tqn"/></div>'),Ye=y('<div class="carousel svelte-1kl9tqn"><!> <div class="carousel-track svelte-1kl9tqn"></div> <!> <!></div>');function Ze(L,i){we(i,!0);let c=W(0),u=ie([]),_=W(ie([])),v=W(ie([])),x=Pe(()=>i.images.length>0?(s(c)%i.images.length+i.images.length)%i.images.length:0);de(()=>{q(_,new Array(i.images.length).fill(!1),!0),q(v,new Array(i.images.length).fill(0),!0)});function V(t){return t.toLowerCase().endsWith(".mp4")||t.toLowerCase().endsWith(".mov")}function O(){q(c,s(c)+1),P()}function ee(){q(c,s(c)-1),P()}function N(t){if(i.images.length===0)return 0;const e=i.images.length;let a=(t-s(c))%e;return a<-e/2?a+=e:a>e/2&&(a-=e),a*100}function B(t){const e=i.images.length,a=(s(c)%e+e)%e;return t===a?5:1}function P(){u.forEach((t,e)=>{t&&(t.pause(),s(_)[e]=!1)})}function U(t){const e=u[t];e&&(e.paused?(e.muted&&(e.muted=!1,e.volume=.4),e.play().catch(a=>console.error("Play failed:",a)),s(_)[t]=!0):(e.pause(),s(_)[t]=!1))}function Y(t,e){const a=u[e];a&&(a.muted=!1,a.volume=t.currentTarget.value)}function te(t,e){const a=t.target;a.duration&&(s(v)[e]=a.currentTime/a.duration*100)}let p=W(null),f=W(!1);de(()=>(s(p)?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""})),ze(()=>{const t=()=>{q(f,window.matchMedia("(max-width: 768px)").matches,!0)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)});function ae(t){q(p,t,!0)}function Z(){q(p,null)}function se(t){const e=u[t];e&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())}var j=Ye(),C=r(j);{var le=t=>{var e=Ee();e.__click=ee,g(t,e)};T(C,t=>{i.images.length>1&&t(le)})}var M=o(C,2);Le(M,21,()=>i.images,Ve,(t,e,a)=>{var m=Xe();let K;var F=r(m);{var I=k=>{var h=He(),A=r(h);A.muted=!0;var d=o(A,2);d.muted=!0,d.__click=()=>!s(f)&&U(a),Oe(d,(n,H)=>u[H]=n,n=>u==null?void 0:u[n],()=>[a]);var Q=o(d,2);let ve,ce;var ue=r(Q),R=r(ue);R.__click=n=>{n.stopPropagation(),U(a)};var fe=r(R);{var he=n=>{var H=Re();g(n,H)},be=n=>{var H=Ge();g(n,H)};T(fe,n=>{s(_)[a]?n(he):n(be,!1)})}l(R);var G=o(R,2);ge(G),G.__input=n=>handleSeek(n,a),G.__click=n=>n.stopPropagation();var $=o(G,2);$.__click=n=>n.stopPropagation();var ne=o(r($),2);ge(ne),ne.__input=n=>Y(n,a),l($);var ye=o($,2);ye.__click=n=>{n.stopPropagation(),se(a)},l(ue),l(Q),l(h),z(()=>{w(A,"src",`${X??""}${s(e)??""}`),w(d,"src",`${X??""}${s(e)??""}`),d.controls=s(f),ve=_e(Q,1,"video-controls svelte-1kl9tqn",null,ve,{visible:!s(f)&&(!s(_)[a]||a===s(x))}),ce=oe(Q,"",ce,{display:s(f)?"none":"flex"}),w(R,"aria-label",s(_)[a]?"Pause":"Play"),me(G,s(v)[a]||0),me(ne,u[a]?u[a].volume:.4)}),Fe("timeupdate",d,n=>te(n,a)),g(k,h)},re=k=>{var h=We(),A=r(h),d=o(A,2);w(d,"alt",`Project slide ${a+1}`),d.__click=()=>ae(s(e)),l(h),z(()=>{oe(A,`background-image: url('${X??""}${s(e)??""}')`),w(d,"src",`${X??""}${s(e)??""}`)}),g(k,h)};T(F,k=>{V(s(e))?k(I):k(re,!1)})}l(m),z((k,h)=>{K=_e(m,1,"slide svelte-1kl9tqn",null,K,{active:a===s(x)}),oe(m,`transform: translateX(${k??""}%); z-index: ${h??""}`)},[()=>N(a),()=>B(a)]),g(t,m)}),l(M);var D=o(M,2);{var J=t=>{var e=Ne();e.__click=O,g(t,e)};T(D,t=>{i.images.length>1&&t(J)})}var S=o(D,2);{var E=t=>{var e=Ue();e.__click=Z;var a=o(r(e),2);a.__click=m=>m.stopPropagation(),l(e),z(()=>w(a,"src",`${X??""}${s(p)??""}`)),g(t,e)};T(S,t=>{s(p)&&t(E)})}l(j),g(L,j),xe()}Me(["click","input"]);var De=y('<a target="_blank" rel="noopener noreferrer" class="gumroad-button svelte-gygcht"> </a>'),Je=y('<article class="project-detail svelte-gygcht"><header class="project-header svelte-gygcht"><h1 class="project-title svelte-gygcht"> </h1> <div class="project-meta svelte-gygcht"><div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div> <div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div> <div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div></div></header> <div class="project-content svelte-gygcht"><div class="description-container svelte-gygcht"><p class="project-description svelte-gygcht"> </p> <!></div> <div class="project-gallery svelte-gygcht"><!></div></div></article>');function gt(L,i){const c=()=>Te(Be,"$language",u),[u,_]=Ae(),{project:v}=i.data;var x=Je();Ie("gygcht",F=>{je(()=>{Ce.title=`${v.title??""} — MATTIA CAPOMAGI`})});var V=r(x),O=r(V),ee=r(O,!0);l(O);var N=o(O,2),B=r(N),P=r(B),U=r(P,!0);l(P);var Y=o(P,2),te=r(Y,!0);l(Y),l(B);var p=o(B,2),f=r(p),ae=r(f,!0);l(f);var Z=o(f,2),se=r(Z,!0);l(Z),l(p);var j=o(p,2),C=r(j),le=r(C,!0);l(C);var M=o(C,2),D=r(M,!0);l(M),l(j),l(N),l(V);var J=o(V,2),S=r(J),E=r(S),t=r(E,!0);l(E);var e=o(E,2);{var a=F=>{var I=De(),re=r(I,!0);l(I),z(()=>{w(I,"href",v.gumroadLink),b(re,c()==="en"?"Get Typeface":"Ottieni Typeface")}),g(F,I)};T(e,F=>{v.gumroadLink&&F(a)})}l(S);var m=o(S,2),K=r(m);Ze(K,{get images(){return v.images}}),l(m),l(J),l(x),z(()=>{b(ee,c()==="en"?v.title:v.title_it||v.title),b(U,c()==="en"?"Client":"Cliente"),b(te,v.client),b(ae,c()==="en"?"Category":"Categoria"),b(se,c()==="en"?v.category:v.category_it),b(le,c()==="en"?"Year":"Anno"),b(D,v.year),b(t,c()==="en"?v.description_en:v.description_it)}),g(L,x),_()}export{gt as component,dt as universal};
