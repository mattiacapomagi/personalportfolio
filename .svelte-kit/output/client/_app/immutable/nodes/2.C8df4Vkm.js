import{f as y,s as p,e as R,a as f,c as te,d as ae}from"../chunks/DxolTw8k.js";import{t as J,A as s,B as r,z as d,F as a,aj as Y,x as j,y as K,ad as re,ak as se,v as V,G as X}from"../chunks/DzQrzwyc.js";import{s as le,e as N,i as O,p as H}from"../chunks/Qcws5SrZ.js";import{s as M,l as Q,a as oe}from"../chunks/BAQOzU1q.js";import{a as T,s as Z}from"../chunks/NOZ7Rk1I.js";import{i as D}from"../chunks/Se_5M871.js";import{b as B}from"../chunks/BhC7KoHX.js";var ie=y('<video autoplay loop playsinline="" class="preview-media svelte-1ftngtl"></video>',2),ne=y('<img loading="lazy" class="preview-media svelte-1ftngtl"/>'),ve=y('<a class="project-row svelte-1ftngtl"><div class="text-content svelte-1ftngtl"><span class="col title svelte-1ftngtl"> </span> <span class="col client svelte-1ftngtl"> </span> <span class="col category svelte-1ftngtl"> </span> <span class="col year svelte-1ftngtl"> </span></div> <div class="mobile-preview svelte-1ftngtl"><!></div></a>');function ce(U,e){J(e,!0);const v=()=>T(Q,"$language",b),[b,k]=Z();let c=Y(()=>e.project.previewImage||e.project.images[0]),l=Y(()=>{var i,n;return((i=a(c))==null?void 0:i.toLowerCase().endsWith(".mp4"))||((n=a(c))==null?void 0:n.toLowerCase().endsWith(".mov"))});function m(){e.onhover(a(c))}function _(){e.onhover(null)}var u=ve(),w=s(u),o=s(w),g=s(o,!0);r(o);var A=d(o,2),W=s(A,!0);r(A);var x=d(A,2),I=s(x,!0);r(x);var P=d(x,2),q=s(P,!0);r(P),r(w);var L=d(w,2),E=s(L);{var z=i=>{var n=ie();n.muted=!0,j(()=>M(n,"src",`${B??""}${a(c)??""}`)),f(i,n)},F=i=>{var n=ne();j(()=>{M(n,"src",`${B??""}${a(c)??""}`),M(n,"alt",e.project.title)}),f(i,n)};D(E,i=>{a(l)?i(z):i(F,!1)})}r(L),r(u),j(()=>{M(u,"href",`${B??""}/projects/${e.project.slug??""}`),p(g,v()==="en"?e.project.title:e.project.title_it||e.project.title),p(W,e.project.client),p(I,v()==="en"?e.project.category:e.project.category_it),p(q,e.project.year)}),R("mouseenter",u,m),R("mouseleave",u,_),f(U,u),K(),k()}var ue=y('<video autoplay loop playsinline="" class="preview-media svelte-1th6cal"></video>',2),ge=y('<img alt="Preview" class="preview-media svelte-1th6cal"/>'),de=y('<div class="image-preview svelte-1th6cal"><!></div>');function me(U,e){J(e,!0);function v(l){return l&&(l.toLowerCase().endsWith(".mp4")||l.toLowerCase().endsWith(".mov"))}var b=te(),k=re(b);{var c=l=>{var m=de(),_=s(m);{var u=o=>{var g=ue();g.muted=!0,j(()=>M(g,"src",`${B??""}${e.imageUrl??""}`)),f(o,g)},w=o=>{var g=ge();j(()=>M(g,"src",`${B??""}${e.imageUrl??""}`)),f(o,g)};D(_,o=>{v(e.imageUrl)?o(u):o(w,!1)})}r(m),j(()=>le(m,`left: ${e.x+20}px; top: ${e.y-100}px;`)),f(l,m)};D(k,l=>{e.imageUrl&&l(c)})}f(U,b),K()}var pe=y("<button> </button>"),fe=y('<div class="home svelte-1uha8ag"><div class="filter-container svelte-1uha8ag"></div> <div class="project-list-header svelte-1uha8ag"><span class="col svelte-1uha8ag"> </span> <span class="col svelte-1uha8ag"> </span> <span class="col svelte-1uha8ag"> </span> <span class="col year svelte-1uha8ag"> </span></div> <div class="project-list svelte-1uha8ag"></div> <!></div>');function be(U,e){J(e,!0);const v=()=>T(Q,"$language",b),[b,k]=Z();let c=V(null),l=V(0),m=V(0),_=V("All"),u=Y(()=>["All",...new Set(H.flatMap(t=>(v()==="en"?t.category:t.category_it||t.category).split(/\/|\+/).map(h=>h.trim())).filter(Boolean))]),w=Y(()=>a(_)==="All"?H:H.filter(t=>(v()==="en"?t.category:t.category_it||t.category).split(/\/|\+/).map(S=>S.trim()).includes(a(_))));function o(t){X(c,t,!0)}function g(t){X(l,t.clientX,!0),X(m,t.clientY,!0)}function A(t){X(_,t,!0)}var W=fe();R("mousemove",se,g);var x=s(W);N(x,21,()=>a(u),O,(t,C)=>{var h=pe();let S;h.__click=()=>A(a(C));var ee=s(h,!0);r(h),j(()=>{S=oe(h,1,"filter-btn svelte-1uha8ag",null,S,{active:a(_)===a(C)}),p(ee,a(C))}),f(t,h)}),r(x);var I=d(x,2),P=s(I),q=s(P,!0);r(P);var L=d(P,2),E=s(L,!0);r(L);var z=d(L,2),F=s(z,!0);r(z);var i=d(z,2),n=s(i,!0);r(i),r(I);var G=d(I,2);N(G,21,()=>a(w),O,(t,C)=>{ce(t,{get project(){return a(C)},onhover:o})}),r(G);var $=d(G,2);me($,{get imageUrl(){return a(c)},get x(){return a(l)},get y(){return a(m)}}),r(W),j(()=>{p(q,v()==="en"?"project title":"titolo progetto"),p(E,v()==="en"?"client":"cliente"),p(F,v()==="en"?"category":"categoria"),p(n,v()==="en"?"year":"anno")}),f(U,W),K(),k()}ae(["click"]);export{be as component};
