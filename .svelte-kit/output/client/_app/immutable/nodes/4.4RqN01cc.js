import{g as he,e as be,i as ye,s as re}from"../chunks/BaK9kEMH.js";import{H as ke}from"../chunks/BUApaBEI.js";import{d as qe,f as y,a as d,e as xe,b as ce,s as b}from"../chunks/ou9Hy1h7.js";import{t as we,w as te,v as Z,u as ne,G as P,F as n,y as Pe,z as o,A as s,B as l,x as E,ak as je,al as Ce,$ as Fe}from"../chunks/CDe51vAy.js";import{h as Ae}from"../chunks/SfEnI6K8.js";import{s as Ie,a as Me}from"../chunks/BeNeh7a2.js";import{i as R}from"../chunks/Il7jBrRZ.js";import{r as ie,s as j,a as oe}from"../chunks/ChjeAaWd.js";import{s as ve}from"../chunks/DB--NVAW.js";import{b as Ve}from"../chunks/BRygUIWO.js";import{l as ze}from"../chunks/CmQdOxCZ.js";function Te(k,i){throw new ke(k,i)}function Be({params:k}){const i=he(k.slug);if(!i)throw Te(404,"Project not found");return{project:i}}const st=Object.freeze(Object.defineProperty({__proto__:null,load:Be},Symbol.toStringTag,{value:"Module"}));var He=y('<button class="nav-btn prev svelte-1kl9tqn" aria-label="Previous image">←</button>'),Oe=ce('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"></path></svg>'),Se=ce('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"></path></svg>'),Le=y('<div class="video-container svelte-1kl9tqn"><video class="blur-bg-video svelte-1kl9tqn" autoplay loop playsinline=""></video>  <video class="main-video svelte-1kl9tqn" loop playsinline=""></video> <div><div class="control-row svelte-1kl9tqn"><button class="icon-btn play-btn svelte-1kl9tqn"><!></button> <input type="range" min="0" max="100" class="seek-bar svelte-1kl9tqn"/> <div class="volume-container svelte-1kl9tqn"><span class="vol-label svelte-1kl9tqn">VOL</span> <input type="range" min="0" max="1" step="0.1" class="volume-bar svelte-1kl9tqn"/></div> <button class="icon-btn fs-btn svelte-1kl9tqn" aria-label="Fullscreen"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"></path></svg></button></div></div></div>',2),Re=y('<div class="image-wrapper svelte-1kl9tqn"><div class="blur-bg svelte-1kl9tqn"></div>  <img class="clickable-image svelte-1kl9tqn"/></div>'),Ee=y("<div><!></div>"),Ge=y('<button class="nav-btn next svelte-1kl9tqn" aria-label="Next image">→</button>'),We=y('<div class="lightbox svelte-1kl9tqn"><button class="close-btn svelte-1kl9tqn" aria-label="Close">×</button> <img alt="Fullscreen preview" class="svelte-1kl9tqn"/></div>'),Ne=y('<div class="carousel svelte-1kl9tqn"><!> <div class="carousel-track svelte-1kl9tqn"></div> <!> <!></div>');function Ue(k,i){we(i,!0);let c=Z(0),u=te([]),_=Z(te([])),v=Z(te([])),q=je(()=>i.images.length>0?(n(c)%i.images.length+i.images.length)%i.images.length:0);ne(()=>{P(_,new Array(i.images.length).fill(!1),!0),P(v,new Array(i.images.length).fill(0),!0)});function C(a){return a.toLowerCase().endsWith(".mp4")||a.toLowerCase().endsWith(".mov")}function F(){P(c,n(c)+1),x()}function D(){P(c,n(c)-1),x()}function G(a){if(i.images.length===0)return 0;const e=i.images.length;let t=(a-n(c))%e;return t<-e/2?t+=e:t>e/2&&(t-=e),t*100}function A(a){const e=i.images.length,t=(n(c)%e+e)%e;return a===t?5:1}function x(){u.forEach((a,e)=>{a&&(a.pause(),n(_)[e]=!1)})}function W(a){const e=u[a];e&&(e.paused?(e.muted&&(e.muted=!1,e.volume=.4),e.play().catch(t=>console.error("Play failed:",t)),n(_)[a]=!0):(e.pause(),n(_)[a]=!1))}function N(a,e){const t=u[e];t&&(t.muted=!1,t.volume=a.currentTarget.value)}function J(a,e){const t=a.target;t.duration&&(n(v)[e]=t.currentTime/t.duration*100)}let m=Z(null);ne(()=>(n(m)?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}));function I(a){P(m,a,!0)}function K(){P(m,null)}function U(a){const e=u[a];e&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())}var M=Ne(),V=s(M);{var z=a=>{var e=He();e.__click=D,d(a,e)};R(V,a=>{i.images.length>1&&a(z)})}var T=o(V,2);be(T,21,()=>i.images,ye,(a,e,t)=>{var f=Ee();let ae;var ue=s(f);{var ge=h=>{var p=Le(),w=s(p);w.muted=!0;var g=o(w,2);g.muted=!0,g.__click=()=>W(t),Ve(g,(r,L)=>u[L]=r,r=>u==null?void 0:u[r],()=>[t]);var $=o(g,2);let le;var se=s($),O=s(se);O.__click=r=>{r.stopPropagation(),W(t)};var _e=s(O);{var me=r=>{var L=Oe();d(r,L)},pe=r=>{var L=Se();d(r,L)};R(_e,r=>{n(_)[t]?r(me):r(pe,!1)})}l(O);var S=o(O,2);ie(S),S.__input=r=>handleSeek(r,t),S.__click=r=>r.stopPropagation();var Y=o(S,2);Y.__click=r=>r.stopPropagation();var ee=o(s(Y),2);ie(ee),ee.__input=r=>N(r,t),l(Y);var fe=o(Y,2);fe.__click=r=>{r.stopPropagation(),U(t)},l(se),l($),l(p),E(()=>{j(w,"src",n(e)),j(g,"src",n(e)),le=ve($,1,"video-controls svelte-1kl9tqn",null,le,{visible:!n(_)[t]||t===n(q)}),j(O,"aria-label",n(_)[t]?"Pause":"Play"),oe(S,n(v)[t]||0),oe(ee,u[t]?u[t].volume:.4)}),xe("timeupdate",g,r=>J(r,t)),d(h,p)},de=h=>{var p=Re(),w=s(p),g=o(w,2);j(g,"alt",`Project slide ${t+1}`),g.__click=()=>I(n(e)),l(p),E(()=>{re(w,`background-image: url('${n(e)??""}')`),j(g,"src",n(e))}),d(h,p)};R(ue,h=>{C(n(e))?h(ge):h(de,!1)})}l(f),E((h,p)=>{ae=ve(f,1,"slide svelte-1kl9tqn",null,ae,{active:t===n(q)}),re(f,`transform: translateX(${h??""}%); z-index: ${p??""}`)},[()=>G(t),()=>A(t)]),d(a,f)}),l(T);var B=o(T,2);{var Q=a=>{var e=Ge();e.__click=F,d(a,e)};R(B,a=>{i.images.length>1&&a(Q)})}var X=o(B,2);{var H=a=>{var e=We();e.__click=K;var t=o(s(e),2);t.__click=f=>f.stopPropagation(),l(e),E(()=>j(t,"src",n(m))),d(a,e)};R(X,a=>{n(m)&&a(H)})}l(M),d(k,M),Pe()}qe(["click","input"]);var Xe=y('<article class="project-detail svelte-gygcht"><header class="project-header svelte-gygcht"><h1 class="project-title svelte-gygcht"> </h1> <div class="project-meta svelte-gygcht"><div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div> <div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div> <div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div></div></header> <div class="project-content svelte-gygcht"><p class="project-description svelte-gygcht"> </p> <div class="project-gallery svelte-gygcht"><!></div></div></article>');function rt(k,i){const c=()=>Me(ze,"$language",u),[u,_]=Ie(),{project:v}=i.data;var q=Xe();Ae("gygcht",f=>{Ce(()=>{Fe.title=`${v.title??""} — MATTIA CAPOMAGI`})});var C=s(q),F=s(C),D=s(F,!0);l(F);var G=o(F,2),A=s(G),x=s(A),W=s(x,!0);l(x);var N=o(x,2),J=s(N,!0);l(N),l(A);var m=o(A,2),I=s(m),K=s(I,!0);l(I);var U=o(I,2),M=s(U,!0);l(U),l(m);var V=o(m,2),z=s(V),T=s(z,!0);l(z);var B=o(z,2),Q=s(B,!0);l(B),l(V),l(G),l(C);var X=o(C,2),H=s(X),a=s(H,!0);l(H);var e=o(H,2),t=s(e);Ue(t,{get images(){return v.images}}),l(e),l(X),l(q),E(()=>{b(D,c()==="en"?v.title:v.title_it||v.title),b(W,c()==="en"?"Client":"Cliente"),b(J,v.client),b(K,c()==="en"?"Category":"Categoria"),b(M,c()==="en"?v.category:v.category_it),b(T,c()==="en"?"Year":"Anno"),b(Q,v.year),b(a,c()==="en"?v.description_en:v.description_it)}),d(k,q),_()}export{rt as component,st as universal};
