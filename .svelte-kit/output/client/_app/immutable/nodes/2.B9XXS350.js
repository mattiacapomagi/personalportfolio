import{f as y,s as f,e as H,a as _,c as te,d as ae}from"../chunks/DxolTw8k.js";import{t as D,A as s,B as r,z as d,F as a,aj as Y,x as h,y as J,ad as re,ak as se,v as V,G as X}from"../chunks/DzQrzwyc.js";import{s as le,e as N,i as O,p as G}from"../chunks/Qcws5SrZ.js";import{s as L,l as Q,a as oe}from"../chunks/BAQOzU1q.js";import{a as T,s as Z}from"../chunks/NOZ7Rk1I.js";import{i as R}from"../chunks/Se_5M871.js";import{b as S}from"../chunks/ClU8R7AC.js";var ie=y('<video autoplay loop playsinline="" class="preview-media svelte-1ftngtl"></video>',2),ne=y('<img loading="lazy" class="preview-media svelte-1ftngtl"/>'),ve=y('<a class="project-row svelte-1ftngtl"><div class="text-content svelte-1ftngtl"><span class="col title svelte-1ftngtl"> </span> <span class="col client svelte-1ftngtl"> </span> <span class="col category svelte-1ftngtl"> </span> <span class="col year svelte-1ftngtl"> </span></div> <div class="mobile-preview svelte-1ftngtl"><!></div></a>');function ce(U,e){D(e,!0);const v=()=>T(Q,"$language",x),[x,k]=Z();let c=Y(()=>e.project.previewImage||e.project.images[0]),l=Y(()=>{var i,n;return((i=a(c))==null?void 0:i.toLowerCase().endsWith(".mp4"))||((n=a(c))==null?void 0:n.toLowerCase().endsWith(".mov"))});function m(){e.onhover(a(c))}function p(){e.onhover(null)}var u=ve(),j=s(u),o=s(j),g=s(o,!0);r(o);var A=d(o,2),M=s(A,!0);r(A);var w=d(A,2),W=s(w,!0);r(w);var b=d(w,2),q=s(b,!0);r(b),r(j);var C=d(j,2),B=s(C);{var I=i=>{var n=ie();n.muted=!0,h(()=>L(n,"src",`${S??""}${a(c)??""}`)),_(i,n)},E=i=>{var n=ne();h(()=>{L(n,"src",`${S??""}${a(c)??""}`),L(n,"alt",e.project.title)}),_(i,n)};R(B,i=>{a(l)?i(I):i(E,!1)})}r(C),r(u),h(()=>{L(u,"href",`${S??""}/projects/${e.project.slug??""}`),f(g,v()==="en"?e.project.title:e.project.title_it||e.project.title),f(M,e.project.client),f(W,v()==="en"?e.project.category:e.project.category_it),f(q,e.project.year)}),H("mouseenter",u,m),H("mouseleave",u,p),_(U,u),J(),k()}var ue=y('<video autoplay loop playsinline="" class="preview-media svelte-1th6cal"></video>',2),ge=y('<img alt="Preview" class="preview-media svelte-1th6cal"/>'),de=y('<div class="image-preview svelte-1th6cal"><!></div>');function me(U,e){D(e,!0);function v(l){return l&&(l.toLowerCase().endsWith(".mp4")||l.toLowerCase().endsWith(".mov"))}var x=te(),k=re(x);{var c=l=>{var m=de(),p=s(m);{var u=o=>{var g=ue();g.muted=!0,h(()=>L(g,"src",`${S??""}${e.imageUrl??""}`)),_(o,g)},j=o=>{var g=ge();h(()=>L(g,"src",`${S??""}${e.imageUrl??""}`)),_(o,g)};R(p,o=>{v(e.imageUrl)?o(u):o(j,!1)})}r(m),h(()=>le(m,`left: ${e.x+20}px; top: ${e.y-100}px;`)),_(l,m)};R(k,l=>{e.imageUrl&&l(c)})}_(U,x),J()}var fe=y("<button> </button>"),_e=y('<div class="home svelte-1uha8ag"><div class="filter-container svelte-1uha8ag"></div> <div class="project-list-header svelte-1uha8ag"><span class="col svelte-1uha8ag"> </span> <span class="col svelte-1uha8ag"> </span> <span class="col svelte-1uha8ag"> </span> <span class="col year svelte-1uha8ag"> </span></div> <div class="project-list svelte-1uha8ag"></div> <!></div>');function Ce(U,e){D(e,!0);const v=()=>T(Q,"$language",x),[x,k]=Z();let c=V(null),l=V(0),m=V(0),p=V("All"),u=Y(()=>["All",...new Set(G.map(t=>v()==="en"?t.category:t.category_it||t.category))]),j=Y(()=>a(p)==="All"?G:G.filter(t=>(v()==="en"?t.category:t.category_it||t.category)===a(p)));function o(t){X(c,t,!0)}function g(t){X(l,t.clientX,!0),X(m,t.clientY,!0)}function A(t){X(p,t,!0)}var M=_e();H("mousemove",se,g);var w=s(M);N(w,21,()=>a(u),O,(t,P)=>{var z=fe();let K;z.__click=()=>A(a(P));var ee=s(z,!0);r(z),h(()=>{K=oe(z,1,"filter-btn svelte-1uha8ag",null,K,{active:a(p)===a(P)}),f(ee,a(P))}),_(t,z)}),r(w);var W=d(w,2),b=s(W),q=s(b,!0);r(b);var C=d(b,2),B=s(C,!0);r(C);var I=d(C,2),E=s(I,!0);r(I);var i=d(I,2),n=s(i,!0);r(i),r(W);var F=d(W,2);N(F,21,()=>a(j),O,(t,P)=>{ce(t,{get project(){return a(P)},onhover:o})}),r(F);var $=d(F,2);me($,{get imageUrl(){return a(c)},get x(){return a(l)},get y(){return a(m)}}),r(M),h(()=>{f(q,v()==="en"?"project title":"titolo progetto"),f(B,v()==="en"?"client":"cliente"),f(E,v()==="en"?"category":"categoria"),f(n,v()==="en"?"year":"anno")}),_(U,M),J(),k()}ae(["click"]);export{Ce as component};
