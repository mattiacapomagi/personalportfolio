import{g as be,e as ye,i as ke,s as ne}from"../chunks/DZV18mLI.js";import{H as qe}from"../chunks/BUApaBEI.js";import{d as xe,f as y,a as d,e as we,b as ue,s as b}from"../chunks/DxolTw8k.js";import{t as Pe,w as ae,v as D,u as ie,G as P,F as n,y as je,z as o,A as s,B as l,x as G,aj as Ce,al as Fe,$ as Ae}from"../chunks/DzQrzwyc.js";import{h as Ie}from"../chunks/0cIXwlWQ.js";import{s as Me,a as Ve}from"../chunks/NOZ7Rk1I.js";import{i as R}from"../chunks/Se_5M871.js";import{a as oe,r as ve,s as j,b as ce,l as ze}from"../chunks/BAQOzU1q.js";import{b as Te}from"../chunks/DvcljZe4.js";import{b as E}from"../chunks/B6COCIfR.js";function Be(k,i){throw new qe(k,i)}function He({params:k}){const i=be(k.slug);if(!i)throw Be(404,"Project not found");return{project:i}}const st=Object.freeze(Object.defineProperty({__proto__:null,load:He},Symbol.toStringTag,{value:"Module"}));var Oe=y('<button class="nav-btn prev svelte-1kl9tqn" aria-label="Previous image">←</button>'),Se=ue('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"></path></svg>'),Le=ue('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"></path></svg>'),Re=y('<div class="video-container svelte-1kl9tqn"><video class="blur-bg-video svelte-1kl9tqn" autoplay loop playsinline=""></video>  <video class="main-video svelte-1kl9tqn" loop playsinline=""></video> <div><div class="control-row svelte-1kl9tqn"><button class="icon-btn play-btn svelte-1kl9tqn"><!></button> <input type="range" min="0" max="100" class="seek-bar svelte-1kl9tqn"/> <div class="volume-container svelte-1kl9tqn"><span class="vol-label svelte-1kl9tqn">VOL</span> <input type="range" min="0" max="1" step="0.1" class="volume-bar svelte-1kl9tqn"/></div> <button class="icon-btn fs-btn svelte-1kl9tqn" aria-label="Fullscreen"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"></path></svg></button></div></div></div>',2),Ee=y('<div class="image-wrapper svelte-1kl9tqn"><div class="blur-bg svelte-1kl9tqn"></div>  <img class="clickable-image svelte-1kl9tqn"/></div>'),Ge=y("<div><!></div>"),We=y('<button class="nav-btn next svelte-1kl9tqn" aria-label="Next image">→</button>'),Ne=y('<div class="lightbox svelte-1kl9tqn"><button class="close-btn svelte-1kl9tqn" aria-label="Close">×</button> <img alt="Fullscreen preview" class="svelte-1kl9tqn"/></div>'),Ue=y('<div class="carousel svelte-1kl9tqn"><!> <div class="carousel-track svelte-1kl9tqn"></div> <!> <!></div>');function Xe(k,i){Pe(i,!0);let c=D(0),u=ae([]),_=D(ae([])),v=D(ae([])),q=Ce(()=>i.images.length>0?(n(c)%i.images.length+i.images.length)%i.images.length:0);ie(()=>{P(_,new Array(i.images.length).fill(!1),!0),P(v,new Array(i.images.length).fill(0),!0)});function C(a){return a.toLowerCase().endsWith(".mp4")||a.toLowerCase().endsWith(".mov")}function F(){P(c,n(c)+1),x()}function J(){P(c,n(c)-1),x()}function W(a){if(i.images.length===0)return 0;const e=i.images.length;let t=(a-n(c))%e;return t<-e/2?t+=e:t>e/2&&(t-=e),t*100}function A(a){const e=i.images.length,t=(n(c)%e+e)%e;return a===t?5:1}function x(){u.forEach((a,e)=>{a&&(a.pause(),n(_)[e]=!1)})}function N(a){const e=u[a];e&&(e.paused?(e.muted&&(e.muted=!1,e.volume=.4),e.play().catch(t=>console.error("Play failed:",t)),n(_)[a]=!0):(e.pause(),n(_)[a]=!1))}function U(a,e){const t=u[e];t&&(t.muted=!1,t.volume=a.currentTarget.value)}function K(a,e){const t=a.target;t.duration&&(n(v)[e]=t.currentTime/t.duration*100)}let m=D(null);ie(()=>(n(m)?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}));function I(a){P(m,a,!0)}function Q(){P(m,null)}function X(a){const e=u[a];e&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())}var M=Ue(),V=s(M);{var z=a=>{var e=Oe();e.__click=J,d(a,e)};R(V,a=>{i.images.length>1&&a(z)})}var T=o(V,2);ye(T,21,()=>i.images,ke,(a,e,t)=>{var f=Ge();let le;var ge=s(f);{var de=h=>{var p=Re(),w=s(p);w.muted=!0;var g=o(w,2);g.muted=!0,g.__click=()=>N(t),Te(g,(r,L)=>u[L]=r,r=>u==null?void 0:u[r],()=>[t]);var ee=o(g,2);let se;var re=s(ee),O=s(re);O.__click=r=>{r.stopPropagation(),N(t)};var me=s(O);{var pe=r=>{var L=Se();d(r,L)},fe=r=>{var L=Le();d(r,L)};R(me,r=>{n(_)[t]?r(pe):r(fe,!1)})}l(O);var S=o(O,2);ve(S),S.__input=r=>handleSeek(r,t),S.__click=r=>r.stopPropagation();var Z=o(S,2);Z.__click=r=>r.stopPropagation();var te=o(s(Z),2);ve(te),te.__input=r=>U(r,t),l(Z);var he=o(Z,2);he.__click=r=>{r.stopPropagation(),X(t)},l(re),l(ee),l(p),G(()=>{j(w,"src",`${E??""}${n(e)??""}`),j(g,"src",`${E??""}${n(e)??""}`),se=oe(ee,1,"video-controls svelte-1kl9tqn",null,se,{visible:!n(_)[t]||t===n(q)}),j(O,"aria-label",n(_)[t]?"Pause":"Play"),ce(S,n(v)[t]||0),ce(te,u[t]?u[t].volume:.4)}),we("timeupdate",g,r=>K(r,t)),d(h,p)},_e=h=>{var p=Ee(),w=s(p),g=o(w,2);j(g,"alt",`Project slide ${t+1}`),g.__click=()=>I(n(e)),l(p),G(()=>{ne(w,`background-image: url('${E??""}${n(e)??""}')`),j(g,"src",`${E??""}${n(e)??""}`)}),d(h,p)};R(ge,h=>{C(n(e))?h(de):h(_e,!1)})}l(f),G((h,p)=>{le=oe(f,1,"slide svelte-1kl9tqn",null,le,{active:t===n(q)}),ne(f,`transform: translateX(${h??""}%); z-index: ${p??""}`)},[()=>W(t),()=>A(t)]),d(a,f)}),l(T);var B=o(T,2);{var $=a=>{var e=We();e.__click=F,d(a,e)};R(B,a=>{i.images.length>1&&a($)})}var Y=o(B,2);{var H=a=>{var e=Ne();e.__click=Q;var t=o(s(e),2);t.__click=f=>f.stopPropagation(),l(e),G(()=>j(t,"src",`${E??""}${n(m)??""}`)),d(a,e)};R(Y,a=>{n(m)&&a(H)})}l(M),d(k,M),je()}xe(["click","input"]);var Ye=y('<article class="project-detail svelte-gygcht"><header class="project-header svelte-gygcht"><h1 class="project-title svelte-gygcht"> </h1> <div class="project-meta svelte-gygcht"><div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div> <div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div> <div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div></div></header> <div class="project-content svelte-gygcht"><p class="project-description svelte-gygcht"> </p> <div class="project-gallery svelte-gygcht"><!></div></div></article>');function rt(k,i){const c=()=>Ve(ze,"$language",u),[u,_]=Me(),{project:v}=i.data;var q=Ye();Ie("gygcht",f=>{Fe(()=>{Ae.title=`${v.title??""} — MATTIA CAPOMAGI`})});var C=s(q),F=s(C),J=s(F,!0);l(F);var W=o(F,2),A=s(W),x=s(A),N=s(x,!0);l(x);var U=o(x,2),K=s(U,!0);l(U),l(A);var m=o(A,2),I=s(m),Q=s(I,!0);l(I);var X=o(I,2),M=s(X,!0);l(X),l(m);var V=o(m,2),z=s(V),T=s(z,!0);l(z);var B=o(z,2),$=s(B,!0);l(B),l(V),l(W),l(C);var Y=o(C,2),H=s(Y),a=s(H,!0);l(H);var e=o(H,2),t=s(e);Xe(t,{get images(){return v.images}}),l(e),l(Y),l(q),G(()=>{b(J,c()==="en"?v.title:v.title_it||v.title),b(N,c()==="en"?"Client":"Cliente"),b(K,v.client),b(Q,c()==="en"?"Category":"Categoria"),b(M,c()==="en"?v.category:v.category_it),b(T,c()==="en"?"Year":"Anno"),b($,v.year),b(a,c()==="en"?v.description_en:v.description_it)}),d(k,q),_()}export{rt as component,st as universal};
