import{g as ke,e as we,i as qe,s as se}from"../chunks/B82mIKtY.js";import{H as xe}from"../chunks/BUApaBEI.js";import{d as Pe,f as y,a as g,e as je,b as ge,s as b}from"../chunks/Bgew_erx.js";import{t as Ce,w as le,v as H,a as ve,G as q,F as s,y as Me,z as o,A as r,B as l,x as R,aj as Fe,al as Ae,$ as Ie}from"../chunks/DR3uJ3cb.js";import{h as ze}from"../chunks/vc7yRkTC.js";import{s as Ve,a as Te}from"../chunks/B10M_oo2.js";import{o as Be}from"../chunks/uUN-slXE.js";import{i as O}from"../chunks/BPBaHoqV.js";import{a as ce,r as ue,s as A,b as de,l as Le}from"../chunks/DyVOIVPW.js";import{b as Ee}from"../chunks/Brh1UCBY.js";import{b as S}from"../chunks/CNPUw5-e.js";function He(k,i){throw new xe(k,i)}function Oe({params:k}){const i=ke(k.slug);if(!i)throw He(404,"Project not found");return{project:i}}const ot=Object.freeze(Object.defineProperty({__proto__:null,load:Oe},Symbol.toStringTag,{value:"Module"}));var Se=y('<button class="nav-btn prev svelte-1kl9tqn" aria-label="Previous image">←</button>'),Re=ge('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"></path></svg>'),Ge=ge('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"></path></svg>'),We=y('<div class="video-container svelte-1kl9tqn"><video class="blur-bg-video svelte-1kl9tqn" autoplay loop playsinline=""></video>  <video class="main-video svelte-1kl9tqn" loop playsinline=""></video> <div><div class="control-row svelte-1kl9tqn"><button class="icon-btn play-btn svelte-1kl9tqn"><!></button> <input type="range" min="0" max="100" class="seek-bar svelte-1kl9tqn"/> <div class="volume-container svelte-1kl9tqn"><span class="vol-label svelte-1kl9tqn">VOL</span> <input type="range" min="0" max="1" step="0.1" class="volume-bar svelte-1kl9tqn"/></div> <button class="icon-btn fs-btn svelte-1kl9tqn" aria-label="Fullscreen"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"></path></svg></button></div></div></div>',2),Ne=y('<div class="image-wrapper svelte-1kl9tqn"><div class="blur-bg svelte-1kl9tqn"></div>  <img class="clickable-image svelte-1kl9tqn"/></div>'),Ue=y("<div><!></div>"),Xe=y('<button class="nav-btn next svelte-1kl9tqn" aria-label="Next image">→</button>'),Ye=y('<div class="lightbox svelte-1kl9tqn"><button class="close-btn svelte-1kl9tqn" aria-label="Close">×</button> <img alt="Fullscreen preview" class="svelte-1kl9tqn"/></div>'),Ze=y('<div class="carousel svelte-1kl9tqn"><!> <div class="carousel-track svelte-1kl9tqn"></div> <!> <!></div>');function De(k,i){Ce(i,!0);let c=H(0),u=le([]),_=H(le([])),v=H(le([])),x=Fe(()=>i.images.length>0?(s(c)%i.images.length+i.images.length)%i.images.length:0);ve(()=>{q(_,new Array(i.images.length).fill(!1),!0),q(v,new Array(i.images.length).fill(0),!0)});function I(t){return t.toLowerCase().endsWith(".mp4")||t.toLowerCase().endsWith(".mov")}function z(){q(c,s(c)+1),P()}function J(){q(c,s(c)-1),P()}function G(t){if(i.images.length===0)return 0;const e=i.images.length;let a=(t-s(c))%e;return a<-e/2?a+=e:a>e/2&&(a-=e),a*100}function V(t){const e=i.images.length,a=(s(c)%e+e)%e;return t===a?5:1}function P(){u.forEach((t,e)=>{t&&(t.pause(),s(_)[e]=!1)})}function W(t){const e=u[t];e&&(e.paused?(e.muted&&(e.muted=!1,e.volume=.4),e.play().catch(a=>console.error("Play failed:",a)),s(_)[t]=!0):(e.pause(),s(_)[t]=!1))}function N(t,e){const a=u[e];a&&(a.muted=!1,a.volume=t.currentTarget.value)}function K(t,e){const a=t.target;a.duration&&(s(v)[e]=a.currentTime/a.duration*100)}let m=H(null),p=H(!1);ve(()=>(s(m)?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""})),Be(()=>{const t=()=>{q(p,window.matchMedia("(max-width: 768px)").matches,!0)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)});function Q(t){q(m,t,!0)}function U(){q(m,null)}function $(t){const e=u[t];e&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())}var j=Ze(),C=r(j);{var ee=t=>{var e=Se();e.__click=J,g(t,e)};O(C,t=>{i.images.length>1&&t(ee)})}var M=o(C,2);we(M,21,()=>i.images,qe,(t,e,a)=>{var w=Ue();let re;var _e=r(w);{var me=h=>{var f=We(),F=r(f);F.muted=!0;var d=o(F,2);d.muted=!0,d.__click=()=>!s(p)&&W(a),Ee(d,(n,E)=>u[E]=n,n=>u==null?void 0:u[n],()=>[a]);var Z=o(d,2);let ne,ie;var oe=r(Z),B=r(oe);B.__click=n=>{n.stopPropagation(),W(a)};var fe=r(B);{var he=n=>{var E=Re();g(n,E)},be=n=>{var E=Ge();g(n,E)};O(fe,n=>{s(_)[a]?n(he):n(be,!1)})}l(B);var L=o(B,2);ue(L),L.__input=n=>handleSeek(n,a),L.__click=n=>n.stopPropagation();var D=o(L,2);D.__click=n=>n.stopPropagation();var ae=o(r(D),2);ue(ae),ae.__input=n=>N(n,a),l(D);var ye=o(D,2);ye.__click=n=>{n.stopPropagation(),$(a)},l(oe),l(Z),l(f),R(()=>{A(F,"src",`${S??""}${s(e)??""}`),A(d,"src",`${S??""}${s(e)??""}`),d.controls=s(p),ne=ce(Z,1,"video-controls svelte-1kl9tqn",null,ne,{visible:!s(p)&&(!s(_)[a]||a===s(x))}),ie=se(Z,"",ie,{display:s(p)?"none":"flex"}),A(B,"aria-label",s(_)[a]?"Pause":"Play"),de(L,s(v)[a]||0),de(ae,u[a]?u[a].volume:.4)}),je("timeupdate",d,n=>K(n,a)),g(h,f)},pe=h=>{var f=Ne(),F=r(f),d=o(F,2);A(d,"alt",`Project slide ${a+1}`),d.__click=()=>Q(s(e)),l(f),R(()=>{se(F,`background-image: url('${S??""}${s(e)??""}')`),A(d,"src",`${S??""}${s(e)??""}`)}),g(h,f)};O(_e,h=>{I(s(e))?h(me):h(pe,!1)})}l(w),R((h,f)=>{re=ce(w,1,"slide svelte-1kl9tqn",null,re,{active:a===s(x)}),se(w,`transform: translateX(${h??""}%); z-index: ${f??""}`)},[()=>G(a),()=>V(a)]),g(t,w)}),l(M);var X=o(M,2);{var Y=t=>{var e=Xe();e.__click=z,g(t,e)};O(X,t=>{i.images.length>1&&t(Y)})}var T=o(X,2);{var te=t=>{var e=Ye();e.__click=U;var a=o(r(e),2);a.__click=w=>w.stopPropagation(),l(e),R(()=>A(a,"src",`${S??""}${s(m)??""}`)),g(t,e)};O(T,t=>{s(m)&&t(te)})}l(j),g(k,j),Me()}Pe(["click","input"]);var Je=y('<article class="project-detail svelte-gygcht"><header class="project-header svelte-gygcht"><h1 class="project-title svelte-gygcht"> </h1> <div class="project-meta svelte-gygcht"><div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div> <div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div> <div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div></div></header> <div class="project-content svelte-gygcht"><p class="project-description svelte-gygcht"> </p> <div class="project-gallery svelte-gygcht"><!></div></div></article>');function vt(k,i){const c=()=>Te(Le,"$language",u),[u,_]=Ve(),{project:v}=i.data;var x=Je();ze("gygcht",a=>{Ae(()=>{Ie.title=`${v.title??""} — MATTIA CAPOMAGI`})});var I=r(x),z=r(I),J=r(z,!0);l(z);var G=o(z,2),V=r(G),P=r(V),W=r(P,!0);l(P);var N=o(P,2),K=r(N,!0);l(N),l(V);var m=o(V,2),p=r(m),Q=r(p,!0);l(p);var U=o(p,2),$=r(U,!0);l(U),l(m);var j=o(m,2),C=r(j),ee=r(C,!0);l(C);var M=o(C,2),X=r(M,!0);l(M),l(j),l(G),l(I);var Y=o(I,2),T=r(Y),te=r(T,!0);l(T);var t=o(T,2),e=r(t);De(e,{get images(){return v.images}}),l(t),l(Y),l(x),R(()=>{b(J,c()==="en"?v.title:v.title_it||v.title),b(W,c()==="en"?"Client":"Cliente"),b(K,v.client),b(Q,c()==="en"?"Category":"Categoria"),b($,c()==="en"?v.category:v.category_it),b(ee,c()==="en"?"Year":"Anno"),b(X,v.year),b(te,c()==="en"?v.description_en:v.description_it)}),g(k,x),_()}export{vt as component,ot as universal};
