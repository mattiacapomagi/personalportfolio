import{f as h,s as f,a as m,e as F,c as ae,d as re}from"../chunks/Bgew_erx.js";import{t as N,A as i,B as s,z as d,x as _,F as r,aj as G,y as Q,ad as se,ak as ne,v as S,G as Y}from"../chunks/DR3uJ3cb.js";import{e as H,i as K,s as ie,p as q}from"../chunks/B82mIKtY.js";import{s as M,l as Z,a as oe}from"../chunks/DyVOIVPW.js";import{a as $,s as ee}from"../chunks/B10M_oo2.js";import{i as J}from"../chunks/BPBaHoqV.js";import{b as R}from"../chunks/D3k5YU9C.js";var le=h('<span class="category-tag svelte-1ftngtl"> </span>'),ve=h('<video autoplay loop playsinline="" class="preview-media svelte-1ftngtl"></video>',2),ce=h('<img loading="lazy" class="preview-media svelte-1ftngtl"/>'),ge=h('<a class="project-row svelte-1ftngtl"><div class="text-content svelte-1ftngtl"><span class="col title svelte-1ftngtl"> </span> <span class="col client svelte-1ftngtl"> </span> <span class="col category svelte-1ftngtl"><div class="tags svelte-1ftngtl"></div></span> <span class="col year svelte-1ftngtl"> </span></div> <div class="mobile-preview svelte-1ftngtl"><!></div></a>');function ue(P,t){N(t,!0);const c=()=>$(Z,"$language",C),[C,A]=ee();let u=G(()=>t.project.previewImage||t.project.images[0]),l=G(()=>{var a,n;return((a=r(u))==null?void 0:a.toLowerCase().endsWith(".mp4"))||((n=r(u))==null?void 0:n.toLowerCase().endsWith(".mov"))});function p(){t.onhover(r(u))}function y(){t.onhover(null)}function b(a){const g={"Editorial Design":"EDI","Design Editoriale":"EDI","Motion Design":"MOT","Poster Design":"POS","Type Design":"TYP","Packaging Design":"PKG","Brand/Editorial Design":"BRA/EDI",Brand:"BRA",Branding:"BRA","3D Modeling":"3D",Motion:"MOT","Brand/Design Editoriale":"BRA/EDI","Modellazione 3D":"3D"}[a]||a.replace(" Design","").replace("Design ","");return g.length>3?g.substring(0,3).toUpperCase():g.toUpperCase()}function E(a){return(c()==="en"?a.category:a.category_it||a.category).split(/\/|\+/).map(g=>b(g.trim())).filter(Boolean)}var o=ge(),v=i(o),I=i(v),V=i(I,!0);s(I);var j=d(I,2),U=i(j,!0);s(j);var D=d(j,2),B=i(D);H(B,21,()=>E(t.project),K,(a,n)=>{var g=le(),e=i(g,!0);s(g),_(()=>f(e,r(n))),m(a,g)}),s(B),s(D);var T=d(D,2),k=i(T,!0);s(T),s(v);var z=d(v,2),L=i(z);{var X=a=>{var n=ve();n.muted=!0,_(()=>M(n,"src",`${R??""}${r(u)??""}`)),m(a,n)},W=a=>{var n=ce();_(()=>{M(n,"src",`${R??""}${r(u)??""}`),M(n,"alt",t.project.title)}),m(a,n)};J(L,a=>{r(l)?a(X):a(W,!1)})}s(z),s(o),_(()=>{M(o,"href",`${R??""}/projects/${t.project.slug??""}`),f(V,c()==="en"?t.project.title:t.project.title_it||t.project.title),f(U,t.project.client),f(k,t.project.year)}),F("mouseenter",o,p),F("mouseleave",o,y),m(P,o),Q(),A()}var de=h('<video autoplay loop playsinline="" class="preview-media svelte-1th6cal"></video>',2),me=h('<img alt="Preview" class="preview-media svelte-1th6cal"/>'),pe=h('<div class="image-preview svelte-1th6cal"><!></div>');function fe(P,t){N(t,!0);function c(l){return l&&(l.toLowerCase().endsWith(".mp4")||l.toLowerCase().endsWith(".mov"))}var C=ae(),A=se(C);{var u=l=>{var p=pe(),y=i(p);{var b=o=>{var v=de();v.muted=!0,_(()=>M(v,"src",`${R??""}${t.imageUrl??""}`)),m(o,v)},E=o=>{var v=me();_(()=>M(v,"src",`${R??""}${t.imageUrl??""}`)),m(o,v)};J(y,o=>{c(t.imageUrl)?o(b):o(E,!1)})}s(p),_(()=>ie(p,`left: ${t.x+20}px; top: ${t.y-100}px;`)),m(l,p)};J(A,l=>{t.imageUrl&&l(u)})}m(P,C),Q()}var _e=h("<button> </button>"),he=h('<div class="home svelte-1uha8ag"><div class="filter-container svelte-1uha8ag"></div> <div class="project-list-header svelte-1uha8ag"><span class="col svelte-1uha8ag"> </span> <span class="col svelte-1uha8ag"> </span> <span class="col svelte-1uha8ag"> </span> <span class="col year svelte-1uha8ag"> </span></div> <div class="project-list svelte-1uha8ag"></div> <!></div>');function Be(P,t){N(t,!0);const c=()=>$(Z,"$language",C),[C,A]=ee();let u=S(null),l=S(0),p=S(0),y=S("All");function b(e){return e==="Motion"?"Motion Design":e==="Brand"?"Branding":e}let E=G(()=>["All",...new Set(q.flatMap(e=>(c()==="en"?e.category:e.category_it||e.category).split(/\/|\+/).map(w=>b(w.trim()))).filter(Boolean))]),o=G(()=>r(y)==="All"?q:q.filter(e=>(c()==="en"?e.category:e.category_it||e.category).split(/\/|\+/).map(O=>b(O.trim())).includes(r(y))));function v(e){Y(u,e,!0)}function I(e){Y(l,e.clientX,!0),Y(p,e.clientY,!0)}function V(e){Y(y,e,!0)}var j=he();F("mousemove",ne,I);var U=i(j);H(U,21,()=>r(E),K,(e,x)=>{var w=_e();let O;w.__click=()=>V(r(x));var te=i(w,!0);s(w),_(()=>{O=oe(w,1,"filter-btn svelte-1uha8ag",null,O,{active:r(y)===r(x)}),f(te,r(x))}),m(e,w)}),s(U);var D=d(U,2),B=i(D),T=i(B,!0);s(B);var k=d(B,2),z=i(k,!0);s(k);var L=d(k,2),X=i(L,!0);s(L);var W=d(L,2),a=i(W,!0);s(W),s(D);var n=d(D,2);H(n,21,()=>r(o),K,(e,x)=>{ue(e,{get project(){return r(x)},onhover:v})}),s(n);var g=d(n,2);fe(g,{get imageUrl(){return r(u)},get x(){return r(l)},get y(){return r(p)}}),s(j),_(()=>{f(T,c()==="en"?"project title":"titolo progetto"),f(z,c()==="en"?"client":"cliente"),f(X,c()==="en"?"category":"categoria"),f(a,c()==="en"?"year":"anno")}),m(P,j),Q(),A()}re(["click"]);export{Be as component};
