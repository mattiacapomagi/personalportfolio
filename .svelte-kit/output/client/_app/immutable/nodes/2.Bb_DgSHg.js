import{f as y,s as f,e as H,a as p,c as ae,d as re}from"../chunks/DxolTw8k.js";import{t as J,A as s,B as r,z as d,F as a,aj as q,x as j,y as K,ad as se,ak as le,v as X,G as Y}from"../chunks/DzQrzwyc.js";import{s as oe,e as N,i as O,p as G}from"../chunks/Qcws5SrZ.js";import{s as P,l as Q,a as ie}from"../chunks/BAQOzU1q.js";import{a as T,s as Z}from"../chunks/NOZ7Rk1I.js";import{i as R}from"../chunks/Se_5M871.js";import{b as B}from"../chunks/BWaD8TJw.js";var ne=y('<video autoplay loop playsinline="" class="preview-media svelte-1ftngtl"></video>',2),ve=y('<img loading="lazy" class="preview-media svelte-1ftngtl"/>'),ce=y('<a class="project-row svelte-1ftngtl"><div class="text-content svelte-1ftngtl"><span class="col title svelte-1ftngtl"> </span> <span class="col client svelte-1ftngtl"> </span> <span class="col category svelte-1ftngtl"> </span> <span class="col year svelte-1ftngtl"> </span></div> <div class="mobile-preview svelte-1ftngtl"><!></div></a>');function ue(L,e){J(e,!0);const n=()=>T(Q,"$language",b),[b,U]=Z();let u=q(()=>e.project.previewImage||e.project.images[0]),o=q(()=>{var c,l;return((c=a(u))==null?void 0:c.toLowerCase().endsWith(".mp4"))||((l=a(u))==null?void 0:l.toLowerCase().endsWith(".mov"))});function m(){e.onhover(a(u))}function _(){e.onhover(null)}var v=ce(),w=s(v),i=s(w),g=s(i,!0);r(i);var k=d(i,2),D=s(k,!0);r(k);var x=d(k,2),A=s(x,!0);r(x);var M=d(x,2),W=s(M,!0);r(M),r(w);var S=d(w,2),z=s(S);{var E=c=>{var l=ne();l.muted=!0,j(()=>P(l,"src",`${B??""}${a(u)??""}`)),p(c,l)},I=c=>{var l=ve();j(()=>{P(l,"src",`${B??""}${a(u)??""}`),P(l,"alt",e.project.title)}),p(c,l)};R(z,c=>{a(o)?c(E):c(I,!1)})}r(S),r(v),j(()=>{P(v,"href",`${B??""}/projects/${e.project.slug??""}`),f(g,n()==="en"?e.project.title:e.project.title_it||e.project.title),f(D,e.project.client),f(A,n()==="en"?e.project.category:e.project.category_it),f(W,e.project.year)}),H("mouseenter",v,m),H("mouseleave",v,_),p(L,v),K(),U()}var ge=y('<video autoplay loop playsinline="" class="preview-media svelte-1th6cal"></video>',2),de=y('<img alt="Preview" class="preview-media svelte-1th6cal"/>'),me=y('<div class="image-preview svelte-1th6cal"><!></div>');function fe(L,e){J(e,!0);function n(o){return o&&(o.toLowerCase().endsWith(".mp4")||o.toLowerCase().endsWith(".mov"))}var b=ae(),U=se(b);{var u=o=>{var m=me(),_=s(m);{var v=i=>{var g=ge();g.muted=!0,j(()=>P(g,"src",`${B??""}${e.imageUrl??""}`)),p(i,g)},w=i=>{var g=de();j(()=>P(g,"src",`${B??""}${e.imageUrl??""}`)),p(i,g)};R(_,i=>{n(e.imageUrl)?i(v):i(w,!1)})}r(m),j(()=>oe(m,`left: ${e.x+20}px; top: ${e.y-100}px;`)),p(o,m)};R(U,o=>{e.imageUrl&&o(u)})}p(L,b),K()}var pe=y("<button> </button>"),_e=y('<div class="home svelte-1uha8ag"><div class="filter-container svelte-1uha8ag"></div> <div class="project-list-header svelte-1uha8ag"><span class="col svelte-1uha8ag"> </span> <span class="col svelte-1uha8ag"> </span> <span class="col svelte-1uha8ag"> </span> <span class="col year svelte-1uha8ag"> </span></div> <div class="project-list svelte-1uha8ag"></div> <!></div>');function Me(L,e){J(e,!0);const n=()=>T(Q,"$language",b),[b,U]=Z();let u=X(null),o=X(0),m=X(0),_=X("All");function v(t){return t==="Motion"?"Motion Design":t}let w=q(()=>["All",...new Set(G.flatMap(t=>(n()==="en"?t.category:t.category_it||t.category).split(/\/|\+/).map(h=>v(h.trim()))).filter(Boolean))]),i=q(()=>a(_)==="All"?G:G.filter(t=>(n()==="en"?t.category:t.category_it||t.category).split(/\/|\+/).map(V=>v(V.trim())).includes(a(_))));function g(t){Y(u,t,!0)}function k(t){Y(o,t.clientX,!0),Y(m,t.clientY,!0)}function D(t){Y(_,t,!0)}var x=_e();H("mousemove",le,k);var A=s(x);N(A,21,()=>a(w),O,(t,C)=>{var h=pe();let V;h.__click=()=>D(a(C));var te=s(h,!0);r(h),j(()=>{V=ie(h,1,"filter-btn svelte-1uha8ag",null,V,{active:a(_)===a(C)}),f(te,a(C))}),p(t,h)}),r(A);var M=d(A,2),W=s(M),S=s(W,!0);r(W);var z=d(W,2),E=s(z,!0);r(z);var I=d(z,2),c=s(I,!0);r(I);var l=d(I,2),$=s(l,!0);r(l),r(M);var F=d(M,2);N(F,21,()=>a(i),O,(t,C)=>{ue(t,{get project(){return a(C)},onhover:g})}),r(F);var ee=d(F,2);fe(ee,{get imageUrl(){return a(u)},get x(){return a(o)},get y(){return a(m)}}),r(x),j(()=>{f(S,n()==="en"?"project title":"titolo progetto"),f(E,n()==="en"?"client":"cliente"),f(c,n()==="en"?"category":"categoria"),f($,n()==="en"?"year":"anno")}),p(L,x),K(),U()}re(["click"]);export{Me as component};
