import{f as _,s as p,a as d,e as R,c as ae,d as re}from"../chunks/DxolTw8k.js";import{t as O,A as n,B as s,z as u,x as f,F as r,aj as q,y as Q,ad as se,ak as ie,v as X,G as Y}from"../chunks/DzQrzwyc.js";import{e as J,i as K,s as ne,p as H}from"../chunks/DZV18mLI.js";import{s as b,l as Z,a as oe}from"../chunks/BAQOzU1q.js";import{a as $,s as ee}from"../chunks/NOZ7Rk1I.js";import{i as N}from"../chunks/Se_5M871.js";import{b as W}from"../chunks/Beodc_uJ.js";var le=_('<span class="category-tag svelte-1ftngtl"> </span>'),ve=_('<video autoplay loop playsinline="" class="preview-media svelte-1ftngtl"></video>',2),ce=_('<img loading="lazy" class="preview-media svelte-1ftngtl"/>'),ge=_('<a class="project-row svelte-1ftngtl"><div class="text-content svelte-1ftngtl"><span class="col title svelte-1ftngtl"> </span> <span class="col client svelte-1ftngtl"> </span> <span class="col category svelte-1ftngtl"><div class="tags svelte-1ftngtl"></div></span> <span class="col year svelte-1ftngtl"> </span></div> <div class="mobile-preview svelte-1ftngtl"><!></div></a>');function ue(P,t){O(t,!0);const c=()=>$(Z,"$language",D),[D,E]=ee();let g=q(()=>t.project.previewImage||t.project.images[0]),l=q(()=>{var a,i;return((a=r(g))==null?void 0:a.toLowerCase().endsWith(".mp4"))||((i=r(g))==null?void 0:i.toLowerCase().endsWith(".mov"))});function m(){t.onhover(r(g))}function h(){t.onhover(null)}function B(a){return{"Editorial Design":"Editorial","Design Editoriale":"Editorial","Motion Design":"Motion","Poster Design":"Poster","Type Design":"Type","Packaging Design":"Packaging","Brand/Editorial Design":"Brand/Edit.",Brand:"Branding",Branding:"Branding","3D Modeling":"3D",Motion:"Motion","Brand/Design Editoriale":"Brand/Edit.","Modellazione 3D":"3D"}[a]||a.replace(" Design","").replace("Design ","")}function k(a){return(c()==="en"?a.category:a.category_it||a.category).split(/\/|\+/).map(x=>B(x.trim())).filter(Boolean)}var o=ge(),v=n(o),A=n(v),F=n(A,!0);s(A);var w=u(A,2),L=n(w,!0);s(w);var j=u(w,2),M=n(j);J(M,21,()=>k(t.project),K,(a,i)=>{var x=le(),e=n(x,!0);s(x),f(()=>p(e,r(i))),d(a,x)}),s(M),s(j);var I=u(j,2),U=n(I,!0);s(I),s(v);var T=u(v,2),z=n(T);{var G=a=>{var i=ve();i.muted=!0,f(()=>b(i,"src",`${W??""}${r(g)??""}`)),d(a,i)},S=a=>{var i=ce();f(()=>{b(i,"src",`${W??""}${r(g)??""}`),b(i,"alt",t.project.title)}),d(a,i)};N(z,a=>{r(l)?a(G):a(S,!1)})}s(T),s(o),f(()=>{b(o,"href",`${W??""}/projects/${t.project.slug??""}`),p(F,c()==="en"?t.project.title:t.project.title_it||t.project.title),p(L,t.project.client),p(U,t.project.year)}),R("mouseenter",o,m),R("mouseleave",o,h),d(P,o),Q(),E()}var de=_('<video autoplay loop playsinline="" class="preview-media svelte-1th6cal"></video>',2),me=_('<img alt="Preview" class="preview-media svelte-1th6cal"/>'),pe=_('<div class="image-preview svelte-1th6cal"><!></div>');function fe(P,t){O(t,!0);function c(l){return l&&(l.toLowerCase().endsWith(".mp4")||l.toLowerCase().endsWith(".mov"))}var D=ae(),E=se(D);{var g=l=>{var m=pe(),h=n(m);{var B=o=>{var v=de();v.muted=!0,f(()=>b(v,"src",`${W??""}${t.imageUrl??""}`)),d(o,v)},k=o=>{var v=me();f(()=>b(v,"src",`${W??""}${t.imageUrl??""}`)),d(o,v)};N(h,o=>{c(t.imageUrl)?o(B):o(k,!1)})}s(m),f(()=>ne(m,`left: ${t.x+20}px; top: ${t.y-100}px;`)),d(l,m)};N(E,l=>{t.imageUrl&&l(g)})}d(P,D),Q()}var _e=_("<button> </button>"),he=_('<div class="home svelte-1uha8ag"><div class="filter-container svelte-1uha8ag"></div> <div class="project-list-header svelte-1uha8ag"><span class="col svelte-1uha8ag"> </span> <span class="col svelte-1uha8ag"> </span> <span class="col svelte-1uha8ag"> </span> <span class="col year svelte-1uha8ag"> </span></div> <div class="project-list svelte-1uha8ag"></div> <!></div>');function Me(P,t){O(t,!0);const c=()=>$(Z,"$language",D),[D,E]=ee();let g=X(null),l=X(0),m=X(0),h=X("All");function B(e){return e==="Motion"?"Motion Design":e==="Brand"?"Branding":e}let k=q(()=>["All",...new Set(H.flatMap(e=>(c()==="en"?e.category:e.category_it||e.category).split(/\/|\+/).map(y=>B(y.trim()))).filter(Boolean))]),o=q(()=>r(h)==="All"?H:H.filter(e=>(c()==="en"?e.category:e.category_it||e.category).split(/\/|\+/).map(V=>B(V.trim())).includes(r(h))));function v(e){Y(g,e,!0)}function A(e){Y(l,e.clientX,!0),Y(m,e.clientY,!0)}function F(e){Y(h,e,!0)}var w=he();R("mousemove",ie,A);var L=n(w);J(L,21,()=>r(k),K,(e,C)=>{var y=_e();let V;y.__click=()=>F(r(C));var te=n(y,!0);s(y),f(()=>{V=oe(y,1,"filter-btn svelte-1uha8ag",null,V,{active:r(h)===r(C)}),p(te,r(C))}),d(e,y)}),s(L);var j=u(L,2),M=n(j),I=n(M,!0);s(M);var U=u(M,2),T=n(U,!0);s(U);var z=u(U,2),G=n(z,!0);s(z);var S=u(z,2),a=n(S,!0);s(S),s(j);var i=u(j,2);J(i,21,()=>r(o),K,(e,C)=>{ue(e,{get project(){return r(C)},onhover:v})}),s(i);var x=u(i,2);fe(x,{get imageUrl(){return r(g)},get x(){return r(l)},get y(){return r(m)}}),s(w),f(()=>{p(I,c()==="en"?"project title":"titolo progetto"),p(T,c()==="en"?"client":"cliente"),p(G,c()==="en"?"category":"categoria"),p(a,c()==="en"?"year":"anno")}),d(P,w),Q(),E()}re(["click"]);export{Me as component};
