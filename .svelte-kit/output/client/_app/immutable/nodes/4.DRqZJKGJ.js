import{g as ke,s as se}from"../chunks/BgOlWxbB.js";import{H as we}from"../chunks/BUApaBEI.js";import{d as qe,f as y,a as g,e as xe,b as ge,s as b}from"../chunks/DfkQbdpi.js";import{aa as Pe,al as le,ak as H,b as ve,a3 as q,o as s,ac as je,W as o,V as r,Y as l,X as R,ai as Ce,am as Me,$ as Fe}from"../chunks/BCnZ4NdG.js";import{h as Ie}from"../chunks/rZBBrTAT.js";import{s as Ae,a as Ve}from"../chunks/CtUz5q2A.js";import{o as ze}from"../chunks/BS2nFZ6n.js";import{i as O}from"../chunks/Bd3oGy6F.js";import{e as Te,i as Le}from"../chunks/Dgg-hyuR.js";import{s as ce,r as ue,a as I,b as de,l as Be}from"../chunks/DV8IpM4n.js";import{b as Ee}from"../chunks/BWAIgloL.js";import{b as S}from"../chunks/_84opX3Q.js";function He(k,i){throw new we(k,i)}function Oe({params:k}){const i=ke(k.slug);if(!i)throw He(404,"Project not found");return{project:i}}const vt=Object.freeze(Object.defineProperty({__proto__:null,load:Oe},Symbol.toStringTag,{value:"Module"}));var Se=y('<button class="nav-btn prev svelte-1kl9tqn" aria-label="Previous image">←</button>'),Re=ge('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"></path></svg>'),We=ge('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"></path></svg>'),Xe=y('<div class="video-container svelte-1kl9tqn"><video class="blur-bg-video svelte-1kl9tqn" autoplay loop playsinline=""></video>  <video class="main-video svelte-1kl9tqn" loop playsinline=""></video> <div><div class="control-row svelte-1kl9tqn"><button class="icon-btn play-btn svelte-1kl9tqn"><!></button> <input type="range" min="0" max="100" class="seek-bar svelte-1kl9tqn"/> <div class="volume-container svelte-1kl9tqn"><span class="vol-label svelte-1kl9tqn">VOL</span> <input type="range" min="0" max="1" step="0.1" class="volume-bar svelte-1kl9tqn"/></div> <button class="icon-btn fs-btn svelte-1kl9tqn" aria-label="Fullscreen"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"></path></svg></button></div></div></div>',2),Ye=y('<div class="image-wrapper svelte-1kl9tqn"><div class="blur-bg svelte-1kl9tqn"></div>  <img class="clickable-image svelte-1kl9tqn"/></div>'),Ge=y("<div><!></div>"),Ne=y('<button class="nav-btn next svelte-1kl9tqn" aria-label="Next image">→</button>'),Ue=y('<div class="lightbox svelte-1kl9tqn"><button class="close-btn svelte-1kl9tqn" aria-label="Close">×</button> <img alt="Fullscreen preview" class="svelte-1kl9tqn"/></div>'),Ze=y('<div class="carousel svelte-1kl9tqn"><!> <div class="carousel-track svelte-1kl9tqn"></div> <!> <!></div>');function De(k,i){Pe(i,!0);let c=H(0),u=le([]),m=H(le([])),v=H(le([])),x=Ce(()=>i.images.length>0?(s(c)%i.images.length+i.images.length)%i.images.length:0);ve(()=>{q(m,new Array(i.images.length).fill(!1),!0),q(v,new Array(i.images.length).fill(0),!0)});function A(t){return t.toLowerCase().endsWith(".mp4")||t.toLowerCase().endsWith(".mov")}function V(){q(c,s(c)+1),P()}function J(){q(c,s(c)-1),P()}function W(t){if(i.images.length===0)return 0;const e=i.images.length;let a=(t-s(c))%e;return a<-e/2?a+=e:a>e/2&&(a-=e),a*100}function z(t){const e=i.images.length,a=(s(c)%e+e)%e;return t===a?5:1}function P(){u.forEach((t,e)=>{t&&(t.pause(),s(m)[e]=!1)})}function X(t){const e=u[t];e&&(e.paused?(e.muted&&(e.muted=!1,e.volume=.4),e.play().catch(a=>console.error("Play failed:",a)),s(m)[t]=!0):(e.pause(),s(m)[t]=!1))}function Y(t,e){const a=u[e];a&&(a.muted=!1,a.volume=t.currentTarget.value)}function K(t,e){const a=t.target;a.duration&&(s(v)[e]=a.currentTime/a.duration*100)}let _=H(null),p=H(!1);ve(()=>(s(_)?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""})),ze(()=>{const t=()=>{q(p,window.matchMedia("(max-width: 768px)").matches,!0)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)});function Q(t){q(_,t,!0)}function G(){q(_,null)}function $(t){const e=u[t];e&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())}var j=Ze(),C=r(j);{var ee=t=>{var e=Se();e.__click=J,g(t,e)};O(C,t=>{i.images.length>1&&t(ee)})}var M=o(C,2);Te(M,21,()=>i.images,Le,(t,e,a)=>{var w=Ge();let re;var me=r(w);{var _e=h=>{var f=Xe(),F=r(f);F.muted=!0;var d=o(F,2);d.muted=!0,d.__click=()=>!s(p)&&X(a),Ee(d,(n,E)=>u[E]=n,n=>u==null?void 0:u[n],()=>[a]);var Z=o(d,2);let ne,ie;var oe=r(Z),L=r(oe);L.__click=n=>{n.stopPropagation(),X(a)};var fe=r(L);{var he=n=>{var E=Re();g(n,E)},be=n=>{var E=We();g(n,E)};O(fe,n=>{s(m)[a]?n(he):n(be,!1)})}l(L);var B=o(L,2);ue(B),B.__input=n=>handleSeek(n,a),B.__click=n=>n.stopPropagation();var D=o(B,2);D.__click=n=>n.stopPropagation();var ae=o(r(D),2);ue(ae),ae.__input=n=>Y(n,a),l(D);var ye=o(D,2);ye.__click=n=>{n.stopPropagation(),$(a)},l(oe),l(Z),l(f),R(()=>{I(F,"src",`${S??""}${s(e)??""}`),I(d,"src",`${S??""}${s(e)??""}`),d.controls=s(p),ne=ce(Z,1,"video-controls svelte-1kl9tqn",null,ne,{visible:!s(p)&&(!s(m)[a]||a===s(x))}),ie=se(Z,"",ie,{display:s(p)?"none":"flex"}),I(L,"aria-label",s(m)[a]?"Pause":"Play"),de(B,s(v)[a]||0),de(ae,u[a]?u[a].volume:.4)}),xe("timeupdate",d,n=>K(n,a)),g(h,f)},pe=h=>{var f=Ye(),F=r(f),d=o(F,2);I(d,"alt",`Project slide ${a+1}`),d.__click=()=>Q(s(e)),l(f),R(()=>{se(F,`background-image: url('${S??""}${s(e)??""}')`),I(d,"src",`${S??""}${s(e)??""}`)}),g(h,f)};O(me,h=>{A(s(e))?h(_e):h(pe,!1)})}l(w),R((h,f)=>{re=ce(w,1,"slide svelte-1kl9tqn",null,re,{active:a===s(x)}),se(w,`transform: translateX(${h??""}%); z-index: ${f??""}`)},[()=>W(a),()=>z(a)]),g(t,w)}),l(M);var N=o(M,2);{var U=t=>{var e=Ne();e.__click=V,g(t,e)};O(N,t=>{i.images.length>1&&t(U)})}var T=o(N,2);{var te=t=>{var e=Ue();e.__click=G;var a=o(r(e),2);a.__click=w=>w.stopPropagation(),l(e),R(()=>I(a,"src",`${S??""}${s(_)??""}`)),g(t,e)};O(T,t=>{s(_)&&t(te)})}l(j),g(k,j),je()}qe(["click","input"]);var Je=y('<article class="project-detail svelte-gygcht"><header class="project-header svelte-gygcht"><h1 class="project-title svelte-gygcht"> </h1> <div class="project-meta svelte-gygcht"><div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div> <div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div> <div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div></div></header> <div class="project-content svelte-gygcht"><p class="project-description svelte-gygcht"> </p> <div class="project-gallery svelte-gygcht"><!></div></div></article>');function ct(k,i){const c=()=>Ve(Be,"$language",u),[u,m]=Ae(),{project:v}=i.data;var x=Je();Ie("gygcht",a=>{Me(()=>{Fe.title=`${v.title??""} — MATTIA CAPOMAGI`})});var A=r(x),V=r(A),J=r(V,!0);l(V);var W=o(V,2),z=r(W),P=r(z),X=r(P,!0);l(P);var Y=o(P,2),K=r(Y,!0);l(Y),l(z);var _=o(z,2),p=r(_),Q=r(p,!0);l(p);var G=o(p,2),$=r(G,!0);l(G),l(_);var j=o(_,2),C=r(j),ee=r(C,!0);l(C);var M=o(C,2),N=r(M,!0);l(M),l(j),l(W),l(A);var U=o(A,2),T=r(U),te=r(T,!0);l(T);var t=o(T,2),e=r(t);De(e,{get images(){return v.images}}),l(t),l(U),l(x),R(()=>{b(J,c()==="en"?v.title:v.title_it||v.title),b(X,c()==="en"?"Client":"Cliente"),b(K,v.client),b(Q,c()==="en"?"Category":"Categoria"),b($,c()==="en"?v.category:v.category_it),b(ee,c()==="en"?"Year":"Anno"),b(N,v.year),b(te,c()==="en"?v.description_en:v.description_it)}),g(k,x),m()}export{ct as component,vt as universal};
