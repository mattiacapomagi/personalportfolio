import{f as k,g as U,s as D,h as N,i as X,j as Q,k as L,m as W,n as Z,H as $,o as B,p as H,t as b,C as j,v as ee,w as V,x as re,E as A,y as z,z as ne,A as Y,B as fe,D as y,F as le,G as ae,I as ie,J as ue,K as G,L as J,M as O,N as se,O as oe,P as ve}from"./CtxozCNc.js";function ge(e,l){return l}function te(e,l,a){for(var d=[],g=l.length,u,i=l.length,n=0;n<g;n++){let s=l[n];J(s,()=>{if(u){if(u.pending.delete(s),u.done.add(s),u.pending.size===0){var c=e.outrogroups;F(y(u.done)),c.delete(u),c.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var o=d.length===0&&a!==null;if(o){var f=a,v=f.parentNode;oe(v),v.append(f),e.items.clear()}F(l,!o)}else u={pending:new Set(l),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(u)}function F(e,l=!0){for(var a=0;a<e.length;a++)ve(e[a],l)}var q;function he(e,l,a,d,g,u=null){var i=e,n=new Map;{var o=e;i=N?D(X(o)):o.appendChild(k())}N&&Q();var f=null,v=W(()=>{var p=a();return le(p)?p:p==null?[]:y(p)}),s,c=!0;function x(){_.fallback=f,de(_,s,i,l,d),f!==null&&(s.length===0?f.f&A?(f.f^=A,R(f,null,i)):G(f):J(f,()=>{f=null}))}var r=U(()=>{s=L(v);var p=s.length;let E=!1;if(N){var h=Z(i)===$;h!==(p===0)&&(i=B(),D(i),H(!1),E=!0)}for(var M=new Set,m=re,C=ne(),T=0;T<p;T+=1){N&&b.nodeType===j&&b.data===ee&&(i=b,E=!0,H(!1));var S=s[T],I=d(S,T),t=c?null:n.get(I);t?(t.v&&V(t.v,S),t.i&&V(t.i,T),C&&m.skipped_effects.delete(t.e)):(t=ce(n,c?i:q??(q=k()),S,I,T,g,l,a),c||(t.e.f|=A),n.set(I,t)),M.add(I)}if(p===0&&u&&!f&&(c?f=z(()=>u(i)):(f=z(()=>u(q??(q=k()))),f.f|=A)),N&&p>0&&D(B()),!c)if(C){for(const[K,P]of n)M.has(K)||m.skipped_effects.add(P.e);m.oncommit(x),m.ondiscard(()=>{})}else x();E&&H(!0),L(v)}),_={effect:r,items:n,outrogroups:null,fallback:f};c=!1,N&&(i=b)}function de(e,l,a,d,g){var I;var u=l.length,i=e.items,n=e.effect.first,o,f=null,v=[],s=[],c,x,r,_;for(_=0;_<u;_+=1){if(c=l[_],x=g(c,_),r=i.get(x).e,e.outrogroups!==null)for(const t of e.outrogroups)t.pending.delete(r),t.done.delete(r);if(r.f&A)if(r.f^=A,r===n)R(r,null,a);else{var p=f?f.next:n;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),w(e,f,r),w(e,r,p),R(r,p,a),f=r,v=[],s=[],n=f.next;continue}if(r.f&O&&G(r),r!==n){if(o!==void 0&&o.has(r)){if(v.length<s.length){var E=s[0],h;f=E.prev;var M=v[0],m=v[v.length-1];for(h=0;h<v.length;h+=1)R(v[h],E,a);for(h=0;h<s.length;h+=1)o.delete(s[h]);w(e,M.prev,m.next),w(e,f,M),w(e,m,E),n=E,f=m,_-=1,v=[],s=[]}else o.delete(r),R(r,n,a),w(e,r.prev,r.next),w(e,r,f===null?e.effect.first:f.next),w(e,f,r),f=r;continue}for(v=[],s=[];n!==null&&n!==r;)(o??(o=new Set)).add(n),s.push(n),n=n.next;if(n===null)continue}r.f&A||v.push(r),f=r,n=r.next}if(e.outrogroups!==null){for(const t of e.outrogroups)t.pending.size===0&&(F(y(t.done)),(I=e.outrogroups)==null||I.delete(t));e.outrogroups.size===0&&(e.outrogroups=null)}if(n!==null||o!==void 0){var C=[];if(o!==void 0)for(r of o)r.f&O||C.push(r);for(;n!==null;)!(n.f&O)&&n!==e.fallback&&C.push(n),n=n.next;var T=C.length;if(T>0){var S=u===0?a:null;te(e,C,S)}}}function ce(e,l,a,d,g,u,i,n){var o=i&ae?i&ie?Y(a):fe(a,!1,!1):null,f=i&ue?Y(g):null;return{v:o,i:f,e:z(()=>(u(l,o??a,f??g,n),()=>{e.delete(d)}))}}function R(e,l,a){if(e.nodes)for(var d=e.nodes.start,g=e.nodes.end,u=l&&!(l.f&A)?l.nodes.start:a;d!==null;){var i=se(d);if(u.before(d),d===g)return;d=i}}function w(e,l,a){l===null?e.effect.first=a:l.next=a,a===null?e.effect.last=l:a.prev=l}export{he as e,ge as i};
