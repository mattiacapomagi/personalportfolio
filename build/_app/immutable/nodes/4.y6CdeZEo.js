import{g as ke,s as ie}from"../chunks/BxtAlgF1.js";import{H as we}from"../chunks/BUApaBEI.js";import{d as qe,f as y,a as g,e as xe,b as pe,s as b}from"../chunks/BKzJxjZA.js";import{R as Pe,U as oe,T as G,a as de,_ as q,n as s,W as je,X as o,Y as r,Z as l,V as z,ai as Ce,ak as Me,$ as Fe}from"../chunks/Djq9OznI.js";import{i as V}from"../chunks/BkqE6qpl.js";import{h as Ie}from"../chunks/VvEHyax7.js";import{a as ge,r as _e,s as x,b as me,l as Te}from"../chunks/D2c2I-P-.js";import{s as Ae,a as Ve}from"../chunks/OTQZhw8A.js";import{o as ze}from"../chunks/KfuCNEnq.js";import{e as Le,i as Oe}from"../chunks/DhmtLaua.js";import{b as Be}from"../chunks/BdkDHQX-.js";import{b as U}from"../chunks/9-WgiuFK.js";function Ee(w,i){throw new we(w,i)}function He({params:w}){const i=ke(w.slug);if(!i)throw Ee(404,"Project not found");return{project:i}}const ct=Object.freeze(Object.defineProperty({__proto__:null,load:He},Symbol.toStringTag,{value:"Module"}));var Re=y('<button class="nav-btn prev svelte-1kl9tqn" aria-label="Previous image">←</button>'),Se=pe('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"></path></svg>'),We=pe('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"></path></svg>'),Ge=y('<div class="video-container svelte-1kl9tqn"><video class="blur-bg-video svelte-1kl9tqn" autoplay loop playsinline=""></video>  <video class="main-video svelte-1kl9tqn" loop playsinline=""></video> <div><div class="control-row svelte-1kl9tqn"><button class="icon-btn play-btn svelte-1kl9tqn"><!></button> <input type="range" min="0" max="100" class="seek-bar svelte-1kl9tqn"/> <div class="volume-container svelte-1kl9tqn"><span class="vol-label svelte-1kl9tqn">VOL</span> <input type="range" min="0" max="1" step="0.1" class="volume-bar svelte-1kl9tqn"/></div> <button class="icon-btn fs-btn svelte-1kl9tqn" aria-label="Fullscreen"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"></path></svg></button></div></div></div>',2),Ue=y('<div class="image-wrapper svelte-1kl9tqn"><div class="blur-bg svelte-1kl9tqn"></div>  <img class="clickable-image svelte-1kl9tqn"/></div>'),Xe=y("<div><!></div>"),Ye=y('<button class="nav-btn next svelte-1kl9tqn" aria-label="Next image">→</button>'),Ze=y('<div class="lightbox svelte-1kl9tqn"><button class="close-btn svelte-1kl9tqn" aria-label="Close">×</button> <img alt="Fullscreen preview" class="svelte-1kl9tqn"/></div>'),Ne=y('<div class="carousel svelte-1kl9tqn"><!> <div class="carousel-track svelte-1kl9tqn"></div> <!> <!></div>');function De(w,i){Pe(i,!0);let c=G(0),u=oe([]),m=G(oe([])),v=G(oe([])),P=Ce(()=>i.images.length>0?(s(c)%i.images.length+i.images.length)%i.images.length:0);de(()=>{q(m,new Array(i.images.length).fill(!1),!0),q(v,new Array(i.images.length).fill(0),!0)});function L(t){return t.toLowerCase().endsWith(".mp4")||t.toLowerCase().endsWith(".mov")}function O(){q(c,s(c)+1),j()}function ee(){q(c,s(c)-1),j()}function X(t){if(i.images.length===0)return 0;const e=i.images.length;let a=(t-s(c))%e;return a<-e/2?a+=e:a>e/2&&(a-=e),a*100}function B(t){const e=i.images.length,a=(s(c)%e+e)%e;return t===a?5:1}function j(){u.forEach((t,e)=>{t&&(t.pause(),s(m)[e]=!1)})}function Y(t){const e=u[t];e&&(e.paused?(e.muted&&(e.muted=!1,e.volume=.4),e.play().catch(a=>console.error("Play failed:",a)),s(m)[t]=!0):(e.pause(),s(m)[t]=!1))}function Z(t,e){const a=u[e];a&&(a.muted=!1,a.volume=t.currentTarget.value)}function te(t,e){const a=t.target;a.duration&&(s(v)[e]=a.currentTime/a.duration*100)}let p=G(null),f=G(!1);de(()=>(s(p)?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""})),ze(()=>{const t=()=>{q(f,window.matchMedia("(max-width: 768px)").matches,!0)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)});function ae(t){q(p,t,!0)}function N(){q(p,null)}function se(t){const e=u[t];e&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())}var C=Ne(),M=r(C);{var le=t=>{var e=Re();e.__click=ee,g(t,e)};V(M,t=>{i.images.length>1&&t(le)})}var F=o(M,2);Le(F,21,()=>i.images,Oe,(t,e,a)=>{var _=Xe();let K;var I=r(_);{var T=k=>{var h=Ge(),A=r(h);A.muted=!0;var d=o(A,2);d.muted=!0,d.__click=()=>!s(f)&&Y(a),Be(d,(n,W)=>u[W]=n,n=>u==null?void 0:u[n],()=>[a]);var Q=o(d,2);let ve,ce;var ue=r(Q),R=r(ue);R.__click=n=>{n.stopPropagation(),Y(a)};var fe=r(R);{var he=n=>{var W=Se();g(n,W)},be=n=>{var W=We();g(n,W)};V(fe,n=>{s(m)[a]?n(he):n(be,!1)})}l(R);var S=o(R,2);_e(S),S.__input=n=>handleSeek(n,a),S.__click=n=>n.stopPropagation();var $=o(S,2);$.__click=n=>n.stopPropagation();var ne=o(r($),2);_e(ne),ne.__input=n=>Z(n,a),l($);var ye=o($,2);ye.__click=n=>{n.stopPropagation(),se(a)},l(ue),l(Q),l(h),z(()=>{x(A,"src",`${U??""}${s(e)??""}`),x(d,"src",`${U??""}${s(e)??""}`),d.controls=s(f),ve=ge(Q,1,"video-controls svelte-1kl9tqn",null,ve,{visible:!s(f)&&(!s(m)[a]||a===s(P))}),ce=ie(Q,"",ce,{display:s(f)?"none":"flex"}),x(R,"aria-label",s(m)[a]?"Pause":"Play"),me(S,s(v)[a]||0),me(ne,u[a]?u[a].volume:.4)}),xe("timeupdate",d,n=>te(n,a)),g(k,h)},re=k=>{var h=Ue(),A=r(h),d=o(A,2);x(d,"alt",`Project slide ${a+1}`),d.__click=()=>ae(s(e)),l(h),z(()=>{ie(A,`background-image: url('${U??""}${s(e)??""}')`),x(d,"src",`${U??""}${s(e)??""}`)}),g(k,h)};V(I,k=>{L(s(e))?k(T):k(re,!1)})}l(_),z((k,h)=>{K=ge(_,1,"slide svelte-1kl9tqn",null,K,{active:a===s(P)}),ie(_,`transform: translateX(${k??""}%); z-index: ${h??""}`)},[()=>X(a),()=>B(a)]),g(t,_)}),l(F);var D=o(F,2);{var J=t=>{var e=Ye();e.__click=O,g(t,e)};V(D,t=>{i.images.length>1&&t(J)})}var E=o(D,2);{var H=t=>{var e=Ze();e.__click=N;var a=o(r(e),2);a.__click=_=>_.stopPropagation(),l(e),z(()=>x(a,"src",`${U??""}${s(p)??""}`)),g(t,e)};V(E,t=>{s(p)&&t(H)})}l(C),g(w,C),je()}qe(["click","input"]);var Je=y('<a target="_blank" rel="noopener noreferrer" class="gumroad-button svelte-gygcht"> </a>'),Ke=y('<article class="project-detail svelte-gygcht"><header class="project-header svelte-gygcht"><h1 class="project-title svelte-gygcht"> </h1> <div class="project-meta svelte-gygcht"><div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div> <div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div> <div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div></div></header> <div class="project-content svelte-gygcht"><div class="description-container svelte-gygcht"><p class="project-description svelte-gygcht"> </p> <!></div> <div class="project-gallery svelte-gygcht"><!></div></div></article>');function ut(w,i){const c=()=>Ve(Te,"$language",u),[u,m]=Ae(),{project:v}=i.data;var P=Ke();Ie("gygcht",I=>{Me(()=>{Fe.title=`${v.title??""} — MATTIA CAPOMAGI`})});var L=r(P),O=r(L),ee=r(O,!0);l(O);var X=o(O,2),B=r(X),j=r(B),Y=r(j,!0);l(j);var Z=o(j,2),te=r(Z,!0);l(Z),l(B);var p=o(B,2),f=r(p),ae=r(f,!0);l(f);var N=o(f,2),se=r(N,!0);l(N),l(p);var C=o(p,2),M=r(C),le=r(M,!0);l(M);var F=o(M,2),D=r(F,!0);l(F),l(C),l(X),l(L);var J=o(L,2),E=r(J),H=r(E),t=r(H,!0);l(H);var e=o(H,2);{var a=I=>{var T=Je(),re=r(T,!0);l(T),z(()=>{x(T,"href",v.gumroadLink),b(re,c()==="en"?"Get Typeface":"Ottieni Typeface")}),g(I,T)};V(e,I=>{v.gumroadLink&&I(a)})}l(E);var _=o(E,2),K=r(_);De(K,{get images(){return v.images}}),l(_),l(J),l(P),z(()=>{b(ee,c()==="en"?v.title:v.title_it||v.title),b(Y,c()==="en"?"Client":"Cliente"),b(te,v.client),b(ae,c()==="en"?"Category":"Categoria"),b(se,c()==="en"?v.category:v.category_it),b(le,c()==="en"?"Year":"Anno"),b(D,v.year),b(t,c()==="en"?v.description_en:v.description_it)}),g(w,P),m()}export{ut as component,ct as universal};
