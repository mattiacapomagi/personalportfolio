import{g as ke,s as oe}from"../chunks/BJ7BnG-4.js";import{H as we}from"../chunks/BUApaBEI.js";import{h as qe,f as y,b as g,e as xe,g as pe,s as b}from"../chunks/NaKhkbUM.js";import{a2 as Pe,a4 as ie,a3 as W,a as de,V as q,j as s,a5 as je,a6 as i,a7 as r,a9 as l,Z as z,am as Ce,ao as Me,a8 as Fe}from"../chunks/BOUigU_t.js";import{i as V}from"../chunks/Df0e7uGU.js";import{h as Ie}from"../chunks/BDLEfaaf.js";import{r as ge,s as x,a as me,l as Ae}from"../chunks/C4EvjuKB.js";import{s as Te,a as Ve}from"../chunks/8ZFYXM0u.js";import{o as ze}from"../chunks/DL763_SF.js";import{e as Le,i as Oe}from"../chunks/-30s_cW_.js";import{s as _e}from"../chunks/BR-tAu5F.js";import{b as Be}from"../chunks/BEsfB5Rb.js";import{b as Z}from"../chunks/BhJ_Fedy.js";function Ee(w,o){throw new we(w,o)}function He({params:w}){const o=ke(w.slug);if(!o)throw Ee(404,"Project not found");return{project:o}}const ut=Object.freeze(Object.defineProperty({__proto__:null,load:He},Symbol.toStringTag,{value:"Module"}));var Se=y('<button class="nav-btn prev svelte-1kl9tqn" aria-label="Previous image">←</button>'),Re=pe('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"></path></svg>'),Ge=pe('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"></path></svg>'),We=y('<div class="video-container svelte-1kl9tqn"><video class="blur-bg-video svelte-1kl9tqn" autoplay loop playsinline=""></video>  <video class="main-video svelte-1kl9tqn" loop playsinline=""></video> <div><div class="control-row svelte-1kl9tqn"><button class="icon-btn play-btn svelte-1kl9tqn"><!></button> <input type="range" min="0" max="100" class="seek-bar svelte-1kl9tqn"/> <div class="volume-container svelte-1kl9tqn"><span class="vol-label svelte-1kl9tqn">VOL</span> <input type="range" min="0" max="1" step="0.1" class="volume-bar svelte-1kl9tqn"/></div> <button class="icon-btn fs-btn svelte-1kl9tqn" aria-label="Fullscreen"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"></path></svg></button></div></div></div>',2),Ze=y('<div class="image-wrapper svelte-1kl9tqn"><div class="blur-bg svelte-1kl9tqn"></div>  <img class="clickable-image svelte-1kl9tqn"/></div>'),Ne=y("<div><!></div>"),Ue=y('<button class="nav-btn next svelte-1kl9tqn" aria-label="Next image">→</button>'),Xe=y('<div class="lightbox svelte-1kl9tqn"><button class="close-btn svelte-1kl9tqn" aria-label="Close">×</button> <img alt="Fullscreen preview" class="svelte-1kl9tqn"/></div>'),Ye=y('<div class="carousel svelte-1kl9tqn"><!> <div class="carousel-track svelte-1kl9tqn"></div> <!> <!></div>');function De(w,o){Pe(o,!0);let c=W(0),u=ie([]),_=W(ie([])),v=W(ie([])),P=Ce(()=>o.images.length>0?(s(c)%o.images.length+o.images.length)%o.images.length:0);de(()=>{q(_,new Array(o.images.length).fill(!1),!0),q(v,new Array(o.images.length).fill(0),!0)});function L(t){return t.toLowerCase().endsWith(".mp4")||t.toLowerCase().endsWith(".mov")}function O(){q(c,s(c)+1),j()}function ee(){q(c,s(c)-1),j()}function N(t){if(o.images.length===0)return 0;const e=o.images.length;let a=(t-s(c))%e;return a<-e/2?a+=e:a>e/2&&(a-=e),a*100}function B(t){const e=o.images.length,a=(s(c)%e+e)%e;return t===a?5:1}function j(){u.forEach((t,e)=>{t&&(t.pause(),s(_)[e]=!1)})}function U(t){const e=u[t];e&&(e.paused?(e.muted&&(e.muted=!1,e.volume=.4),e.play().catch(a=>console.error("Play failed:",a)),s(_)[t]=!0):(e.pause(),s(_)[t]=!1))}function X(t,e){const a=u[e];a&&(a.muted=!1,a.volume=t.currentTarget.value)}function te(t,e){const a=t.target;a.duration&&(s(v)[e]=a.currentTime/a.duration*100)}let p=W(null),f=W(!1);de(()=>(s(p)?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""})),ze(()=>{const t=()=>{q(f,window.matchMedia("(max-width: 768px)").matches,!0)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)});function ae(t){q(p,t,!0)}function Y(){q(p,null)}function se(t){const e=u[t];e&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())}var C=Ye(),M=r(C);{var le=t=>{var e=Se();e.__click=ee,g(t,e)};V(M,t=>{o.images.length>1&&t(le)})}var F=i(M,2);Le(F,21,()=>o.images,Oe,(t,e,a)=>{var m=Ne();let K;var I=r(m);{var A=k=>{var h=We(),T=r(h);T.muted=!0;var d=i(T,2);d.muted=!0,d.__click=()=>!s(f)&&U(a),Be(d,(n,G)=>u[G]=n,n=>u==null?void 0:u[n],()=>[a]);var Q=i(d,2);let ve,ce;var ue=r(Q),S=r(ue);S.__click=n=>{n.stopPropagation(),U(a)};var fe=r(S);{var he=n=>{var G=Re();g(n,G)},be=n=>{var G=Ge();g(n,G)};V(fe,n=>{s(_)[a]?n(he):n(be,!1)})}l(S);var R=i(S,2);ge(R),R.__input=n=>handleSeek(n,a),R.__click=n=>n.stopPropagation();var $=i(R,2);$.__click=n=>n.stopPropagation();var ne=i(r($),2);ge(ne),ne.__input=n=>X(n,a),l($);var ye=i($,2);ye.__click=n=>{n.stopPropagation(),se(a)},l(ue),l(Q),l(h),z(()=>{x(T,"src",`${Z??""}${s(e)??""}`),x(d,"src",`${Z??""}${s(e)??""}`),d.controls=s(f),ve=_e(Q,1,"video-controls svelte-1kl9tqn",null,ve,{visible:!s(f)&&(!s(_)[a]||a===s(P))}),ce=oe(Q,"",ce,{display:s(f)?"none":"flex"}),x(S,"aria-label",s(_)[a]?"Pause":"Play"),me(R,s(v)[a]||0),me(ne,u[a]?u[a].volume:.4)}),xe("timeupdate",d,n=>te(n,a)),g(k,h)},re=k=>{var h=Ze(),T=r(h),d=i(T,2);x(d,"alt",`Project slide ${a+1}`),d.__click=()=>ae(s(e)),l(h),z(()=>{oe(T,`background-image: url('${Z??""}${s(e)??""}')`),x(d,"src",`${Z??""}${s(e)??""}`)}),g(k,h)};V(I,k=>{L(s(e))?k(A):k(re,!1)})}l(m),z((k,h)=>{K=_e(m,1,"slide svelte-1kl9tqn",null,K,{active:a===s(P)}),oe(m,`transform: translateX(${k??""}%); z-index: ${h??""}`)},[()=>N(a),()=>B(a)]),g(t,m)}),l(F);var D=i(F,2);{var J=t=>{var e=Ue();e.__click=O,g(t,e)};V(D,t=>{o.images.length>1&&t(J)})}var E=i(D,2);{var H=t=>{var e=Xe();e.__click=Y;var a=i(r(e),2);a.__click=m=>m.stopPropagation(),l(e),z(()=>x(a,"src",`${Z??""}${s(p)??""}`)),g(t,e)};V(E,t=>{s(p)&&t(H)})}l(C),g(w,C),je()}qe(["click","input"]);var Je=y('<a target="_blank" rel="noopener noreferrer" class="gumroad-button svelte-gygcht"> </a>'),Ke=y('<article class="project-detail svelte-gygcht"><header class="project-header svelte-gygcht"><h1 class="project-title svelte-gygcht"> </h1> <div class="project-meta svelte-gygcht"><div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div> <div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div> <div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div></div></header> <div class="project-content svelte-gygcht"><div class="description-container svelte-gygcht"><p class="project-description svelte-gygcht"> </p> <!></div> <div class="project-gallery svelte-gygcht"><!></div></div></article>');function dt(w,o){const c=()=>Ve(Ae,"$language",u),[u,_]=Te(),{project:v}=o.data;var P=Ke();Ie("gygcht",I=>{Me(()=>{Fe.title=`${v.title??""} — MATTIA CAPOMAGI`})});var L=r(P),O=r(L),ee=r(O,!0);l(O);var N=i(O,2),B=r(N),j=r(B),U=r(j,!0);l(j);var X=i(j,2),te=r(X,!0);l(X),l(B);var p=i(B,2),f=r(p),ae=r(f,!0);l(f);var Y=i(f,2),se=r(Y,!0);l(Y),l(p);var C=i(p,2),M=r(C),le=r(M,!0);l(M);var F=i(M,2),D=r(F,!0);l(F),l(C),l(N),l(L);var J=i(L,2),E=r(J),H=r(E),t=r(H,!0);l(H);var e=i(H,2);{var a=I=>{var A=Je(),re=r(A,!0);l(A),z(()=>{x(A,"href",v.gumroadLink),b(re,c()==="en"?"Get Typeface":"Ottieni Typeface")}),g(I,A)};V(e,I=>{v.gumroadLink&&I(a)})}l(E);var m=i(E,2),K=r(m);De(K,{get images(){return v.images}}),l(m),l(J),l(P),z(()=>{b(ee,c()==="en"?v.title:v.title_it||v.title),b(U,c()==="en"?"Client":"Cliente"),b(te,v.client),b(ae,c()==="en"?"Category":"Categoria"),b(se,c()==="en"?v.category:v.category_it),b(le,c()==="en"?"Year":"Anno"),b(D,v.year),b(t,c()==="en"?v.description_en:v.description_it)}),g(w,P),_()}export{dt as component,ut as universal};
