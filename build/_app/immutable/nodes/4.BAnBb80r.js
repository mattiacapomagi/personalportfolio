import{g as ke,s as oe}from"../chunks/BxtAlgF1.js";import{H as we}from"../chunks/BUApaBEI.js";import{d as qe,f as b,a as g,e as xe,b as pe,s as k}from"../chunks/BKzJxjZA.js";import{R as Pe,U as ie,T as G,a as de,_ as q,n as s,W as je,X as i,Y as r,Z as l,V as z,ai as Ce,ak as Me,$ as Fe}from"../chunks/Djq9OznI.js";import{i as T}from"../chunks/BkqE6qpl.js";import{h as Ie}from"../chunks/VvEHyax7.js";import{a as ge,r as _e,s as x,b as me,l as Ve}from"../chunks/D2c2I-P-.js";import{s as Ae,a as Te}from"../chunks/OTQZhw8A.js";import{o as ze}from"../chunks/KfuCNEnq.js";import{e as Le,i as Be}from"../chunks/DhmtLaua.js";import{b as Ee}from"../chunks/BdkDHQX-.js";import{b as U}from"../chunks/D5m9Z-S_.js";function He(w,o){throw new we(w,o)}function Oe({params:w}){const o=ke(w.slug);if(!o)throw He(404,"Project not found");return{project:o}}const ct=Object.freeze(Object.defineProperty({__proto__:null,load:Oe},Symbol.toStringTag,{value:"Module"}));var Re=b('<button class="nav-btn prev svelte-1kl9tqn" aria-label="Previous image">←</button>'),Se=pe('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"></path></svg>'),We=pe('<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"></path></svg>'),Ge=b('<div class="video-container svelte-1kl9tqn"><video class="blur-bg-video svelte-1kl9tqn" autoplay loop playsinline=""></video>  <video class="main-video svelte-1kl9tqn" loop playsinline=""></video> <div><div class="control-row svelte-1kl9tqn"><button class="icon-btn play-btn svelte-1kl9tqn"><!></button> <input type="range" min="0" max="100" class="seek-bar svelte-1kl9tqn"/> <div class="volume-container svelte-1kl9tqn"><span class="vol-label svelte-1kl9tqn">VOL</span> <input type="range" min="0" max="1" step="0.1" class="volume-bar svelte-1kl9tqn"/></div> <button class="icon-btn fs-btn svelte-1kl9tqn" aria-label="Fullscreen"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"></path></svg></button></div></div></div>',2),Ue=b('<div class="image-wrapper svelte-1kl9tqn"><div class="blur-bg svelte-1kl9tqn"></div>  <img class="clickable-image svelte-1kl9tqn"/></div>'),Xe=b("<div><!></div>"),Ye=b('<button class="nav-btn next svelte-1kl9tqn" aria-label="Next image">→</button>'),Ze=b('<div class="lightbox svelte-1kl9tqn"><button class="close-btn svelte-1kl9tqn" aria-label="Close">×</button> <img alt="Fullscreen preview" class="svelte-1kl9tqn"/></div>'),Ne=b('<div class="carousel svelte-1kl9tqn"><!> <div class="carousel-track svelte-1kl9tqn"></div> <!> <!></div>');function De(w,o){Pe(o,!0);let c=G(0),u=ie([]),m=G(ie([])),v=G(ie([])),P=Ce(()=>o.images.length>0?(s(c)%o.images.length+o.images.length)%o.images.length:0);de(()=>{q(m,new Array(o.images.length).fill(!1),!0),q(v,new Array(o.images.length).fill(0),!0)});function L(t){return t.toLowerCase().endsWith(".mp4")||t.toLowerCase().endsWith(".mov")}function B(){q(c,s(c)+1),j()}function ee(){q(c,s(c)-1),j()}function X(t){if(o.images.length===0)return 0;const e=o.images.length;let a=(t-s(c))%e;return a<-e/2?a+=e:a>e/2&&(a-=e),a*100}function E(t){const e=o.images.length,a=(s(c)%e+e)%e;return t===a?5:1}function j(){u.forEach((t,e)=>{t&&(t.pause(),s(m)[e]=!1)})}function Y(t){const e=u[t];e&&(e.paused?(e.muted&&(e.muted=!1,e.volume=.4),e.play().catch(a=>console.error("Play failed:",a)),s(m)[t]=!0):(e.pause(),s(m)[t]=!1))}function Z(t,e){const a=u[e];a&&(a.muted=!1,a.volume=t.currentTarget.value)}function te(t,e){const a=t.target;a.duration&&(s(v)[e]=a.currentTime/a.duration*100)}let p=G(null),f=G(!1);de(()=>(s(p)?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""})),ze(()=>{const t=()=>{q(f,window.matchMedia("(max-width: 768px)").matches,!0)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)});function ae(t){q(p,t,!0)}function N(){q(p,null)}function se(t){const e=u[t];e&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())}var C=Ne(),M=r(C);{var le=t=>{var e=Re();e.__click=ee,g(t,e)};T(M,t=>{o.images.length>1&&t(le)})}var F=i(M,2);Le(F,21,()=>o.images,Be,(t,e,a)=>{var _=Xe();let K;var I=r(_);{var V=y=>{var h=Ge(),A=r(h);A.muted=!0;var d=i(A,2);d.muted=!0,d.__click=()=>!s(f)&&Y(a),Ee(d,(n,W)=>u[W]=n,n=>u==null?void 0:u[n],()=>[a]);var Q=i(d,2);let ve,ce;var ue=r(Q),R=r(ue);R.__click=n=>{n.stopPropagation(),Y(a)};var fe=r(R);{var he=n=>{var W=Se();g(n,W)},be=n=>{var W=We();g(n,W)};T(fe,n=>{s(m)[a]?n(he):n(be,!1)})}l(R);var S=i(R,2);_e(S),S.__input=n=>handleSeek(n,a),S.__click=n=>n.stopPropagation();var $=i(S,2);$.__click=n=>n.stopPropagation();var ne=i(r($),2);_e(ne),ne.__input=n=>Z(n,a),l($);var ye=i($,2);ye.__click=n=>{n.stopPropagation(),se(a)},l(ue),l(Q),l(h),z(()=>{x(A,"src",`${U??""}${s(e)??""}`),x(d,"src",`${U??""}${s(e)??""}`),d.controls=s(f),ve=ge(Q,1,"video-controls svelte-1kl9tqn",null,ve,{visible:!s(f)&&(!s(m)[a]||a===s(P))}),ce=oe(Q,"",ce,{display:s(f)?"none":"flex"}),x(R,"aria-label",s(m)[a]?"Pause":"Play"),me(S,s(v)[a]||0),me(ne,u[a]?u[a].volume:.4)}),xe("timeupdate",d,n=>te(n,a)),g(y,h)},re=y=>{var h=Ue(),A=r(h),d=i(A,2);x(d,"alt",`Project slide ${a+1}`),d.__click=()=>ae(s(e)),l(h),z(()=>{oe(A,`background-image: url('${U??""}${s(e)??""}')`),x(d,"src",`${U??""}${s(e)??""}`)}),g(y,h)};T(I,y=>{L(s(e))?y(V):y(re,!1)})}l(_),z((y,h)=>{K=ge(_,1,"slide svelte-1kl9tqn",null,K,{active:a===s(P)}),oe(_,`transform: translateX(${y??""}%); z-index: ${h??""}`)},[()=>X(a),()=>E(a)]),g(t,_)}),l(F);var D=i(F,2);{var J=t=>{var e=Ye();e.__click=B,g(t,e)};T(D,t=>{o.images.length>1&&t(J)})}var H=i(D,2);{var O=t=>{var e=Ze();e.__click=N;var a=i(r(e),2);a.__click=_=>_.stopPropagation(),l(e),z(()=>x(a,"src",`${U??""}${s(p)??""}`)),g(t,e)};T(H,t=>{s(p)&&t(O)})}l(C),g(w,C),je()}qe(["click","input"]);var Je=b('<a target="_blank" rel="noopener noreferrer" class="gumroad-button svelte-gygcht"> </a>'),Ke=b('<article class="project-detail svelte-gygcht"><header class="project-header svelte-gygcht"><h1 class="project-title svelte-gygcht"> </h1> <div class="project-meta svelte-gygcht"><div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div> <div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div> <div class="meta-item svelte-gygcht"><span class="meta-label svelte-gygcht"> </span> <span class="meta-value svelte-gygcht"> </span></div></div></header> <div class="project-content svelte-gygcht"><div class="description-container svelte-gygcht"><p class="project-description svelte-gygcht"> </p> <!></div> <div class="project-gallery svelte-gygcht"><!></div></div></article>');function ut(w,o){const c=()=>Te(Ve,"$language",u),[u,m]=Ae(),{project:v}=o.data;var P=Ke();Ie("gygcht",I=>{Me(()=>{Fe.title=`${v.title??""} — MATTIA CAPOMAGI`})});var L=r(P),B=r(L),ee=r(B,!0);l(B);var X=i(B,2),E=r(X),j=r(E),Y=r(j,!0);l(j);var Z=i(j,2),te=r(Z,!0);l(Z),l(E);var p=i(E,2),f=r(p),ae=r(f,!0);l(f);var N=i(f,2),se=r(N,!0);l(N),l(p);var C=i(p,2),M=r(C),le=r(M,!0);l(M);var F=i(M,2),D=r(F,!0);l(F),l(C),l(X),l(L);var J=i(L,2),H=r(J),O=r(H),t=r(O,!0);l(O);var e=i(O,2);{var a=I=>{var V=Je(),re=r(V,!0);re.nodeValue="Get Typeface",l(V),z(()=>x(V,"href",v.gumroadLink)),g(I,V)};T(e,I=>{v.gumroadLink&&I(a)})}l(H);var _=i(H,2),K=r(_);De(K,{get images(){return v.images}}),l(_),l(J),l(P),z(()=>{k(ee,c()==="en"?v.title:v.title_it||v.title),k(Y,c()==="en"?"Client":"Cliente"),k(te,v.client),k(ae,c()==="en"?"Category":"Categoria"),k(se,c()==="en"?v.category:v.category_it),k(le,c()==="en"?"Year":"Anno"),k(D,v.year),k(t,c()==="en"?v.description_en:v.description_it)}),g(w,P),m()}export{ut as component,ct as universal};
